var xa=Object.defineProperty;var ka=(e,n,t)=>n in e?xa(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var ke=(e,n,t)=>ka(e,typeof n!="symbol"?n+"":n,t);var Ye,A,mn,Ea,ae,ln,fn,dn,pn,yt,_t,ht,Ta,Ee={},_n=[],Sa=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ve=Array.isArray;function G(e,n){for(var t in n)e[t]=n[t];return e}function bt(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function wt(e,n,t){var i,r,a,c={};for(a in n)a=="key"?i=n[a]:a=="ref"?r=n[a]:c[a]=n[a];if(arguments.length>2&&(c.children=arguments.length>3?Ye.call(arguments,2):t),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)c[a]===void 0&&(c[a]=e.defaultProps[a]);return We(e,c,i,r,null)}function We(e,n,t,i,r){var a={type:e,props:n,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:r??++mn,__i:-1,__u:0};return r==null&&A.vnode!=null&&A.vnode(a),a}function pe(e){return e.children}function Ge(e,n){this.props=e,this.context=n}function de(e,n){if(n==null)return e.__?de(e.__,e.__i+1):null;for(var t;n<e.__k.length;n++)if((t=e.__k[n])!=null&&t.__e!=null)return t.__e;return typeof e.type=="function"?de(e):null}function hn(e){var n,t;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if((t=e.__k[n])!=null&&t.__e!=null){e.__e=e.__c.base=t.__e;break}return hn(e)}}function cn(e){(!e.__d&&(e.__d=!0)&&ae.push(e)&&!Xe.__r++||ln!=A.debounceRendering)&&((ln=A.debounceRendering)||fn)(Xe)}function Xe(){for(var e,n,t,i,r,a,c,l=1;ae.length;)ae.length>l&&ae.sort(dn),e=ae.shift(),l=ae.length,e.__d&&(t=void 0,i=void 0,r=(i=(n=e).__v).__e,a=[],c=[],n.__P&&((t=G({},i)).__v=i.__v+1,A.vnode&&A.vnode(t),vt(n.__P,t,i,n.__n,n.__P.namespaceURI,32&i.__u?[r]:null,a,r??de(i),!!(32&i.__u),c),t.__v=i.__v,t.__.__k[t.__i]=t,bn(a,t,c),i.__e=i.__=null,t.__e!=r&&hn(t)));Xe.__r=0}function gn(e,n,t,i,r,a,c,l,m,o,s){var u,d,f,p,E,b,h,y=i&&i.__k||_n,k=n.length;for(m=Na(t,n,y,m,k),u=0;u<k;u++)(f=t.__k[u])!=null&&(d=f.__i==-1?Ee:y[f.__i]||Ee,f.__i=u,b=vt(e,f,d,r,a,c,l,m,o,s),p=f.__e,f.ref&&d.ref!=f.ref&&(d.ref&&xt(d.ref,null,f),s.push(f.ref,f.__c||p,f)),E==null&&p!=null&&(E=p),(h=!!(4&f.__u))||d.__k===f.__k?m=yn(f,m,e,h):typeof f.type=="function"&&b!==void 0?m=b:p&&(m=p.nextSibling),f.__u&=-7);return t.__e=E,m}function Na(e,n,t,i,r){var a,c,l,m,o,s=t.length,u=s,d=0;for(e.__k=new Array(r),a=0;a<r;a++)(c=n[a])!=null&&typeof c!="boolean"&&typeof c!="function"?(typeof c=="string"||typeof c=="number"||typeof c=="bigint"||c.constructor==String?c=e.__k[a]=We(null,c,null,null,null):Ve(c)?c=e.__k[a]=We(pe,{children:c},null,null,null):c.constructor==null&&c.__b>0?c=e.__k[a]=We(c.type,c.props,c.key,c.ref?c.ref:null,c.__v):e.__k[a]=c,m=a+d,c.__=e,c.__b=e.__b+1,l=null,(o=c.__i=za(c,t,m,u))!=-1&&(u--,(l=t[o])&&(l.__u|=2)),l==null||l.__v==null?(o==-1&&(r>s?d--:r<s&&d++),typeof c.type!="function"&&(c.__u|=4)):o!=m&&(o==m-1?d--:o==m+1?d++:(o>m?d--:d++,c.__u|=4))):e.__k[a]=null;if(u)for(a=0;a<s;a++)(l=t[a])!=null&&(2&l.__u)==0&&(l.__e==i&&(i=de(l)),vn(l,l));return i}function yn(e,n,t,i){var r,a;if(typeof e.type=="function"){for(r=e.__k,a=0;r&&a<r.length;a++)r[a]&&(r[a].__=e,n=yn(r[a],n,t,i));return n}e.__e!=n&&(i&&(n&&e.type&&!n.parentNode&&(n=de(e)),t.insertBefore(e.__e,n||null)),n=e.__e);do n=n&&n.nextSibling;while(n!=null&&n.nodeType==8);return n}function za(e,n,t,i){var r,a,c,l=e.key,m=e.type,o=n[t],s=o!=null&&(2&o.__u)==0;if(o===null&&l==null||s&&l==o.key&&m==o.type)return t;if(i>(s?1:0)){for(r=t-1,a=t+1;r>=0||a<n.length;)if((o=n[c=r>=0?r--:a++])!=null&&(2&o.__u)==0&&l==o.key&&m==o.type)return c}return-1}function sn(e,n,t){n[0]=="-"?e.setProperty(n,t??""):e[n]=t==null?"":typeof t!="number"||Sa.test(n)?t:t+"px"}function Ke(e,n,t,i,r){var a,c;e:if(n=="style")if(typeof t=="string")e.style.cssText=t;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(n in i)t&&n in t||sn(e.style,n,"");if(t)for(n in t)i&&t[n]==i[n]||sn(e.style,n,t[n])}else if(n[0]=="o"&&n[1]=="n")a=n!=(n=n.replace(pn,"$1")),c=n.toLowerCase(),n=c in e||n=="onFocusOut"||n=="onFocusIn"?c.slice(2):n.slice(2),e.l||(e.l={}),e.l[n+a]=t,t?i?t.u=i.u:(t.u=yt,e.addEventListener(n,a?ht:_t,a)):e.removeEventListener(n,a?ht:_t,a);else{if(r=="http://www.w3.org/2000/svg")n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!="width"&&n!="height"&&n!="href"&&n!="list"&&n!="form"&&n!="tabIndex"&&n!="download"&&n!="rowSpan"&&n!="colSpan"&&n!="role"&&n!="popover"&&n in e)try{e[n]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&n[4]!="-"?e.removeAttribute(n):e.setAttribute(n,n=="popover"&&t==1?"":t))}}function un(e){return function(n){if(this.l){var t=this.l[n.type+e];if(n.t==null)n.t=yt++;else if(n.t<t.u)return;return t(A.event?A.event(n):n)}}}function vt(e,n,t,i,r,a,c,l,m,o){var s,u,d,f,p,E,b,h,y,k,_,S,R,w,z,T,v,x=n.type;if(n.constructor!=null)return null;128&t.__u&&(m=!!(32&t.__u),a=[l=n.__e=t.__e]),(s=A.__b)&&s(n);e:if(typeof x=="function")try{if(h=n.props,y="prototype"in x&&x.prototype.render,k=(s=x.contextType)&&i[s.__c],_=s?k?k.props.value:s.__:i,t.__c?b=(u=n.__c=t.__c).__=u.__E:(y?n.__c=u=new x(h,_):(n.__c=u=new Ge(h,_),u.constructor=x,u.render=Aa),k&&k.sub(u),u.state||(u.state={}),u.__n=i,d=u.__d=!0,u.__h=[],u._sb=[]),y&&u.__s==null&&(u.__s=u.state),y&&x.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=G({},u.__s)),G(u.__s,x.getDerivedStateFromProps(h,u.__s))),f=u.props,p=u.state,u.__v=n,d)y&&x.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),y&&u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(y&&x.getDerivedStateFromProps==null&&h!==f&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(h,_),n.__v==t.__v||!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(h,u.__s,_)===!1){for(n.__v!=t.__v&&(u.props=h,u.state=u.__s,u.__d=!1),n.__e=t.__e,n.__k=t.__k,n.__k.some(function(U){U&&(U.__=n)}),S=0;S<u._sb.length;S++)u.__h.push(u._sb[S]);u._sb=[],u.__h.length&&c.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(h,u.__s,_),y&&u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(f,p,E)})}if(u.context=_,u.props=h,u.__P=e,u.__e=!1,R=A.__r,w=0,y){for(u.state=u.__s,u.__d=!1,R&&R(n),s=u.render(u.props,u.state,u.context),z=0;z<u._sb.length;z++)u.__h.push(u._sb[z]);u._sb=[]}else do u.__d=!1,R&&R(n),s=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++w<25);u.state=u.__s,u.getChildContext!=null&&(i=G(G({},i),u.getChildContext())),y&&!d&&u.getSnapshotBeforeUpdate!=null&&(E=u.getSnapshotBeforeUpdate(f,p)),T=s,s!=null&&s.type===pe&&s.key==null&&(T=wn(s.props.children)),l=gn(e,Ve(T)?T:[T],n,t,i,r,a,c,l,m,o),u.base=n.__e,n.__u&=-161,u.__h.length&&c.push(u),b&&(u.__E=u.__=null)}catch(U){if(n.__v=null,m||a!=null)if(U.then){for(n.__u|=m?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;a[a.indexOf(l)]=null,n.__e=l}else{for(v=a.length;v--;)bt(a[v]);gt(n)}else n.__e=t.__e,n.__k=t.__k,U.then||gt(n);A.__e(U,n,t)}else a==null&&n.__v==t.__v?(n.__k=t.__k,n.__e=t.__e):l=n.__e=Pa(t.__e,n,t,i,r,a,c,m,o);return(s=A.diffed)&&s(n),128&n.__u?void 0:l}function gt(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(gt)}function bn(e,n,t){for(var i=0;i<t.length;i++)xt(t[i],t[++i],t[++i]);A.__c&&A.__c(n,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(a){a.call(r)})}catch(a){A.__e(a,r.__v)}})}function wn(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:Ve(e)?e.map(wn):G({},e)}function Pa(e,n,t,i,r,a,c,l,m){var o,s,u,d,f,p,E,b=t.props||Ee,h=n.props,y=n.type;if(y=="svg"?r="http://www.w3.org/2000/svg":y=="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),a!=null){for(o=0;o<a.length;o++)if((f=a[o])&&"setAttribute"in f==!!y&&(y?f.localName==y:f.nodeType==3)){e=f,a[o]=null;break}}if(e==null){if(y==null)return document.createTextNode(h);e=document.createElementNS(r,y,h.is&&h),l&&(A.__m&&A.__m(n,a),l=!1),a=null}if(y==null)b===h||l&&e.data==h||(e.data=h);else{if(a=a&&Ye.call(e.childNodes),!l&&a!=null)for(b={},o=0;o<e.attributes.length;o++)b[(f=e.attributes[o]).name]=f.value;for(o in b)if(f=b[o],o!="children"){if(o=="dangerouslySetInnerHTML")u=f;else if(!(o in h)){if(o=="value"&&"defaultValue"in h||o=="checked"&&"defaultChecked"in h)continue;Ke(e,o,null,f,r)}}for(o in h)f=h[o],o=="children"?d=f:o=="dangerouslySetInnerHTML"?s=f:o=="value"?p=f:o=="checked"?E=f:l&&typeof f!="function"||b[o]===f||Ke(e,o,f,b[o],r);if(s)l||u&&(s.__html==u.__html||s.__html==e.innerHTML)||(e.innerHTML=s.__html),n.__k=[];else if(u&&(e.innerHTML=""),gn(n.type=="template"?e.content:e,Ve(d)?d:[d],n,t,i,y=="foreignObject"?"http://www.w3.org/1999/xhtml":r,a,c,a?a[0]:t.__k&&de(t,0),l,m),a!=null)for(o=a.length;o--;)bt(a[o]);l||(o="value",y=="progress"&&p==null?e.removeAttribute("value"):p!=null&&(p!==e[o]||y=="progress"&&!p||y=="option"&&p!=b[o])&&Ke(e,o,p,b[o],r),o="checked",E!=null&&E!=e[o]&&Ke(e,o,E,b[o],r))}return e}function xt(e,n,t){try{if(typeof e=="function"){var i=typeof e.__u=="function";i&&e.__u(),i&&n==null||(e.__u=e(n))}else e.current=n}catch(r){A.__e(r,t)}}function vn(e,n,t){var i,r;if(A.unmount&&A.unmount(e),(i=e.ref)&&(i.current&&i.current!=e.__e||xt(i,null,n)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(a){A.__e(a,n)}i.base=i.__P=null}if(i=e.__k)for(r=0;r<i.length;r++)i[r]&&vn(i[r],n,t||typeof e.type!="function");t||bt(e.__e),e.__c=e.__=e.__e=void 0}function Aa(e,n,t){return this.constructor(e,t)}function xn(e,n,t){var i,r,a,c;n==document&&(n=document.documentElement),A.__&&A.__(e,n),r=(i=typeof t=="function")?null:t&&t.__k||n.__k,a=[],c=[],vt(n,e=(!i&&t||n).__k=wt(pe,null,[e]),r||Ee,Ee,n.namespaceURI,!i&&t?[t]:r?null:n.firstChild?Ye.call(n.childNodes):null,a,!i&&t?t:r?r.__e:n.firstChild,i,c),bn(a,e,c)}Ye=_n.slice,A={__e:function(e,n,t,i){for(var r,a,c;n=n.__;)if((r=n.__c)&&!r.__)try{if((a=r.constructor)&&a.getDerivedStateFromError!=null&&(r.setState(a.getDerivedStateFromError(e)),c=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e,i||{}),c=r.__d),c)return r.__E=r}catch(l){e=l}throw e}},mn=0,Ea=function(e){return e!=null&&e.constructor==null},Ge.prototype.setState=function(e,n){var t;t=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=G({},this.state),typeof e=="function"&&(e=e(G({},t),this.props)),e&&G(t,e),e!=null&&this.__v&&(n&&this._sb.push(n),cn(this))},Ge.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),cn(this))},Ge.prototype.render=pe,ae=[],fn=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,dn=function(e,n){return e.__v.__b-n.__v.__b},Xe.__r=0,pn=/(PointerCapture)$|Capture$/i,yt=0,_t=un(!1),ht=un(!0),Ta=0;var Je,M,kt,kn,Et=0,Rn=[],C=A,En=C.__b,Tn=C.__r,Sn=C.diffed,Nn=C.__c,zn=C.unmount,Pn=C.__;function Bn(e,n){C.__h&&C.__h(M,e,Et||n),Et=0;var t=M.__H||(M.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function Mn(e){return Et=1,Ra(Cn,e)}function Ra(e,n,t){var i=Bn(Je++,2);if(i.t=e,!i.__c&&(i.__=[t?t(n):Cn(void 0,n),function(l){var m=i.__N?i.__N[0]:i.__[0],o=i.t(m,l);m!==o&&(i.__N=[o,i.__[1]],i.__c.setState({}))}],i.__c=M,!M.__f)){var r=function(l,m,o){if(!i.__c.__H)return!0;var s=i.__c.__H.__.filter(function(d){return!!d.__c});if(s.every(function(d){return!d.__N}))return!a||a.call(this,l,m,o);var u=i.__c.props!==l;return s.forEach(function(d){if(d.__N){var f=d.__[0];d.__=d.__N,d.__N=void 0,f!==d.__[0]&&(u=!0)}}),a&&a.call(this,l,m,o)||u};M.__f=!0;var a=M.shouldComponentUpdate,c=M.componentWillUpdate;M.componentWillUpdate=function(l,m,o){if(this.__e){var s=a;a=void 0,r(l,m,o),a=s}c&&c.call(this,l,m,o)},M.shouldComponentUpdate=r}return i.__N||i.__}function St(e,n){var t=Bn(Je++,7);return Ca(t.__H,n)&&(t.__=e(),t.__H=n,t.__h=e),t.__}function Ba(){for(var e;e=Rn.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Qe),e.__H.__h.forEach(Tt),e.__H.__h=[]}catch(n){e.__H.__h=[],C.__e(n,e.__v)}}C.__b=function(e){M=null,En&&En(e)},C.__=function(e,n){e&&n.__k&&n.__k.__m&&(e.__m=n.__k.__m),Pn&&Pn(e,n)},C.__r=function(e){Tn&&Tn(e),Je=0;var n=(M=e.__c).__H;n&&(kt===M?(n.__h=[],M.__h=[],n.__.forEach(function(t){t.__N&&(t.__=t.__N),t.u=t.__N=void 0})):(n.__h.forEach(Qe),n.__h.forEach(Tt),n.__h=[],Je=0)),kt=M},C.diffed=function(e){Sn&&Sn(e);var n=e.__c;n&&n.__H&&(n.__H.__h.length&&(Rn.push(n)!==1&&kn===C.requestAnimationFrame||((kn=C.requestAnimationFrame)||Ma)(Ba)),n.__H.__.forEach(function(t){t.u&&(t.__H=t.u),t.u=void 0})),kt=M=null},C.__c=function(e,n){n.some(function(t){try{t.__h.forEach(Qe),t.__h=t.__h.filter(function(i){return!i.__||Tt(i)})}catch(i){n.some(function(r){r.__h&&(r.__h=[])}),n=[],C.__e(i,t.__v)}}),Nn&&Nn(e,n)},C.unmount=function(e){zn&&zn(e);var n,t=e.__c;t&&t.__H&&(t.__H.__.forEach(function(i){try{Qe(i)}catch(r){n=r}}),t.__H=void 0,n&&C.__e(n,t.__v))};var An=typeof requestAnimationFrame=="function";function Ma(e){var n,t=function(){clearTimeout(i),An&&cancelAnimationFrame(n),setTimeout(e)},i=setTimeout(t,35);An&&(n=requestAnimationFrame(t))}function Qe(e){var n=M,t=e.__c;typeof t=="function"&&(e.__c=void 0,t()),M=n}function Tt(e){var n=M;e.__c=e.__(),M=n}function Ca(e,n){return!e||e.length!==n.length||n.some(function(t,i){return t!==e[i]})}function Cn(e,n){return typeof n=="function"?n(e):n}function we(e){let n=e.length;for(;--n>=0;)e[n]=0}var Ia=0,bi=1,Da=2,Oa=3,Ua=258,Yt=29,Le=256,Re=Le+1+Yt,ge=30,Vt=19,wi=2*Re+1,re=15,Nt=16,La=7,Qt=256,vi=16,xi=17,ki=18,Zt=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),rt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Fa=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Ei=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Za=512,Y=new Array((Re+2)*2);we(Y);var ze=new Array(ge*2);we(ze);var Be=new Array(Za);we(Be);var Me=new Array(Ua-Oa+1);we(Me);var Jt=new Array(Yt);we(Jt);var ot=new Array(ge);we(ot);function zt(e,n,t,i,r){this.static_tree=e,this.extra_bits=n,this.extra_base=t,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}var Ti,Si,Ni;function Pt(e,n){this.dyn_tree=e,this.max_code=0,this.stat_desc=n}var zi=e=>e<256?Be[e]:Be[256+(e>>>7)],Ce=(e,n)=>{e.pending_buf[e.pending++]=n&255,e.pending_buf[e.pending++]=n>>>8&255},L=(e,n,t)=>{e.bi_valid>Nt-t?(e.bi_buf|=n<<e.bi_valid&65535,Ce(e,e.bi_buf),e.bi_buf=n>>Nt-e.bi_valid,e.bi_valid+=t-Nt):(e.bi_buf|=n<<e.bi_valid&65535,e.bi_valid+=t)},q=(e,n,t)=>{L(e,t[n*2],t[n*2+1])},Pi=(e,n)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--n>0);return t>>>1},$a=e=>{e.bi_valid===16?(Ce(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},Ha=(e,n)=>{let t=n.dyn_tree,i=n.max_code,r=n.stat_desc.static_tree,a=n.stat_desc.has_stree,c=n.stat_desc.extra_bits,l=n.stat_desc.extra_base,m=n.stat_desc.max_length,o,s,u,d,f,p,E=0;for(d=0;d<=re;d++)e.bl_count[d]=0;for(t[e.heap[e.heap_max]*2+1]=0,o=e.heap_max+1;o<wi;o++)s=e.heap[o],d=t[t[s*2+1]*2+1]+1,d>m&&(d=m,E++),t[s*2+1]=d,!(s>i)&&(e.bl_count[d]++,f=0,s>=l&&(f=c[s-l]),p=t[s*2],e.opt_len+=p*(d+f),a&&(e.static_len+=p*(r[s*2+1]+f)));if(E!==0){do{for(d=m-1;e.bl_count[d]===0;)d--;e.bl_count[d]--,e.bl_count[d+1]+=2,e.bl_count[m]--,E-=2}while(E>0);for(d=m;d!==0;d--)for(s=e.bl_count[d];s!==0;)u=e.heap[--o],!(u>i)&&(t[u*2+1]!==d&&(e.opt_len+=(d-t[u*2+1])*t[u*2],t[u*2+1]=d),s--)}},Ai=(e,n,t)=>{let i=new Array(re+1),r=0,a,c;for(a=1;a<=re;a++)r=r+t[a-1]<<1,i[a]=r;for(c=0;c<=n;c++){let l=e[c*2+1];l!==0&&(e[c*2]=Pi(i[l]++,l))}},ja=()=>{let e,n,t,i,r,a=new Array(re+1);for(t=0,i=0;i<Yt-1;i++)for(Jt[i]=t,e=0;e<1<<Zt[i];e++)Me[t++]=i;for(Me[t-1]=i,r=0,i=0;i<16;i++)for(ot[i]=r,e=0;e<1<<rt[i];e++)Be[r++]=i;for(r>>=7;i<ge;i++)for(ot[i]=r<<7,e=0;e<1<<rt[i]-7;e++)Be[256+r++]=i;for(n=0;n<=re;n++)a[n]=0;for(e=0;e<=143;)Y[e*2+1]=8,e++,a[8]++;for(;e<=255;)Y[e*2+1]=9,e++,a[9]++;for(;e<=279;)Y[e*2+1]=7,e++,a[7]++;for(;e<=287;)Y[e*2+1]=8,e++,a[8]++;for(Ai(Y,Re+1,a),e=0;e<ge;e++)ze[e*2+1]=5,ze[e*2]=Pi(e,5);Ti=new zt(Y,Zt,Le+1,Re,re),Si=new zt(ze,rt,0,ge,re),Ni=new zt(new Array(0),Fa,0,Vt,La)},Ri=e=>{let n;for(n=0;n<Re;n++)e.dyn_ltree[n*2]=0;for(n=0;n<ge;n++)e.dyn_dtree[n*2]=0;for(n=0;n<Vt;n++)e.bl_tree[n*2]=0;e.dyn_ltree[Qt*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Bi=e=>{e.bi_valid>8?Ce(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},In=(e,n,t,i)=>{let r=n*2,a=t*2;return e[r]<e[a]||e[r]===e[a]&&i[n]<=i[t]},At=(e,n,t)=>{let i=e.heap[t],r=t<<1;for(;r<=e.heap_len&&(r<e.heap_len&&In(n,e.heap[r+1],e.heap[r],e.depth)&&r++,!In(n,i,e.heap[r],e.depth));)e.heap[t]=e.heap[r],t=r,r<<=1;e.heap[t]=i},Dn=(e,n,t)=>{let i,r,a=0,c,l;if(e.sym_next!==0)do i=e.pending_buf[e.sym_buf+a++]&255,i+=(e.pending_buf[e.sym_buf+a++]&255)<<8,r=e.pending_buf[e.sym_buf+a++],i===0?q(e,r,n):(c=Me[r],q(e,c+Le+1,n),l=Zt[c],l!==0&&(r-=Jt[c],L(e,r,l)),i--,c=zi(i),q(e,c,t),l=rt[c],l!==0&&(i-=ot[c],L(e,i,l)));while(a<e.sym_next);q(e,Qt,n)},$t=(e,n)=>{let t=n.dyn_tree,i=n.stat_desc.static_tree,r=n.stat_desc.has_stree,a=n.stat_desc.elems,c,l,m=-1,o;for(e.heap_len=0,e.heap_max=wi,c=0;c<a;c++)t[c*2]!==0?(e.heap[++e.heap_len]=m=c,e.depth[c]=0):t[c*2+1]=0;for(;e.heap_len<2;)o=e.heap[++e.heap_len]=m<2?++m:0,t[o*2]=1,e.depth[o]=0,e.opt_len--,r&&(e.static_len-=i[o*2+1]);for(n.max_code=m,c=e.heap_len>>1;c>=1;c--)At(e,t,c);o=a;do c=e.heap[1],e.heap[1]=e.heap[e.heap_len--],At(e,t,1),l=e.heap[1],e.heap[--e.heap_max]=c,e.heap[--e.heap_max]=l,t[o*2]=t[c*2]+t[l*2],e.depth[o]=(e.depth[c]>=e.depth[l]?e.depth[c]:e.depth[l])+1,t[c*2+1]=t[l*2+1]=o,e.heap[1]=o++,At(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Ha(e,n),Ai(t,m,e.bl_count)},On=(e,n,t)=>{let i,r=-1,a,c=n[1],l=0,m=7,o=4;for(c===0&&(m=138,o=3),n[(t+1)*2+1]=65535,i=0;i<=t;i++)a=c,c=n[(i+1)*2+1],!(++l<m&&a===c)&&(l<o?e.bl_tree[a*2]+=l:a!==0?(a!==r&&e.bl_tree[a*2]++,e.bl_tree[vi*2]++):l<=10?e.bl_tree[xi*2]++:e.bl_tree[ki*2]++,l=0,r=a,c===0?(m=138,o=3):a===c?(m=6,o=3):(m=7,o=4))},Un=(e,n,t)=>{let i,r=-1,a,c=n[1],l=0,m=7,o=4;for(c===0&&(m=138,o=3),i=0;i<=t;i++)if(a=c,c=n[(i+1)*2+1],!(++l<m&&a===c)){if(l<o)do q(e,a,e.bl_tree);while(--l!==0);else a!==0?(a!==r&&(q(e,a,e.bl_tree),l--),q(e,vi,e.bl_tree),L(e,l-3,2)):l<=10?(q(e,xi,e.bl_tree),L(e,l-3,3)):(q(e,ki,e.bl_tree),L(e,l-11,7));l=0,r=a,c===0?(m=138,o=3):a===c?(m=6,o=3):(m=7,o=4)}},qa=e=>{let n;for(On(e,e.dyn_ltree,e.l_desc.max_code),On(e,e.dyn_dtree,e.d_desc.max_code),$t(e,e.bl_desc),n=Vt-1;n>=3&&e.bl_tree[Ei[n]*2+1]===0;n--);return e.opt_len+=3*(n+1)+5+5+4,n},Ka=(e,n,t,i)=>{let r;for(L(e,n-257,5),L(e,t-1,5),L(e,i-4,4),r=0;r<i;r++)L(e,e.bl_tree[Ei[r]*2+1],3);Un(e,e.dyn_ltree,n-1),Un(e,e.dyn_dtree,t-1)},Wa=e=>{let n=4093624447,t;for(t=0;t<=31;t++,n>>>=1)if(n&1&&e.dyn_ltree[t*2]!==0)return 0;if(e.dyn_ltree[18]!==0||e.dyn_ltree[20]!==0||e.dyn_ltree[26]!==0)return 1;for(t=32;t<Le;t++)if(e.dyn_ltree[t*2]!==0)return 1;return 0},Ln=!1,Ga=e=>{Ln||(ja(),Ln=!0),e.l_desc=new Pt(e.dyn_ltree,Ti),e.d_desc=new Pt(e.dyn_dtree,Si),e.bl_desc=new Pt(e.bl_tree,Ni),e.bi_buf=0,e.bi_valid=0,Ri(e)},Mi=(e,n,t,i)=>{L(e,(Ia<<1)+(i?1:0),3),Bi(e),Ce(e,t),Ce(e,~t),t&&e.pending_buf.set(e.window.subarray(n,n+t),e.pending),e.pending+=t},Xa=e=>{L(e,bi<<1,3),q(e,Qt,Y),$a(e)},Ya=(e,n,t,i)=>{let r,a,c=0;e.level>0?(e.strm.data_type===2&&(e.strm.data_type=Wa(e)),$t(e,e.l_desc),$t(e,e.d_desc),c=qa(e),r=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=r&&(r=a)):r=a=t+5,t+4<=r&&n!==-1?Mi(e,n,t,i):e.strategy===4||a===r?(L(e,(bi<<1)+(i?1:0),3),Dn(e,Y,ze)):(L(e,(Da<<1)+(i?1:0),3),Ka(e,e.l_desc.max_code+1,e.d_desc.max_code+1,c+1),Dn(e,e.dyn_ltree,e.dyn_dtree)),Ri(e),i&&Bi(e)},Va=(e,n,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=n,e.pending_buf[e.sym_buf+e.sym_next++]=n>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,n===0?e.dyn_ltree[t*2]++:(e.matches++,n--,e.dyn_ltree[(Me[t]+Le+1)*2]++,e.dyn_dtree[zi(n)*2]++),e.sym_next===e.sym_end),Qa=Ga,Ja=Mi,er=Ya,tr=Va,nr=Xa,ir={_tr_init:Qa,_tr_stored_block:Ja,_tr_flush_block:er,_tr_tally:tr,_tr_align:nr},ar=(e,n,t,i)=>{let r=e&65535|0,a=e>>>16&65535|0,c=0;for(;t!==0;){c=t>2e3?2e3:t,t-=c;do r=r+n[i++]|0,a=a+r|0;while(--c);r%=65521,a%=65521}return r|a<<16|0},Ie=ar,rr=()=>{let e,n=[];for(var t=0;t<256;t++){e=t;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;n[t]=e}return n},or=new Uint32Array(rr()),lr=(e,n,t,i)=>{let r=or,a=i+t;e^=-1;for(let c=i;c<a;c++)e=e>>>8^r[(e^n[c])&255];return e^-1},I=lr,ce={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},me={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:cr,_tr_stored_block:Ht,_tr_flush_block:sr,_tr_tally:te,_tr_align:ur}=ir,{Z_NO_FLUSH:ne,Z_PARTIAL_FLUSH:mr,Z_FULL_FLUSH:fr,Z_FINISH:$,Z_BLOCK:Fn,Z_OK:D,Z_STREAM_END:Zn,Z_STREAM_ERROR:K,Z_DATA_ERROR:dr,Z_BUF_ERROR:Rt,Z_DEFAULT_COMPRESSION:pr,Z_FILTERED:_r,Z_HUFFMAN_ONLY:et,Z_RLE:hr,Z_FIXED:gr,Z_DEFAULT_STRATEGY:yr,Z_UNKNOWN:br,Z_DEFLATED:st}=me,wr=9,vr=15,xr=8,kr=29,Er=256,jt=Er+1+kr,Tr=30,Sr=19,Nr=2*jt+1,zr=15,N=3,ee=258,W=ee+N+1,Pr=32,ye=42,en=57,qt=69,Kt=73,Wt=91,Gt=103,oe=113,Se=666,O=1,ve=2,se=3,xe=4,Ar=3,le=(e,n)=>(e.msg=ce[n],n),$n=e=>e*2-(e>4?9:0),J=e=>{let n=e.length;for(;--n>=0;)e[n]=0},Rr=e=>{let n,t,i,r=e.w_size;n=e.hash_size,i=n;do t=e.head[--i],e.head[i]=t>=r?t-r:0;while(--n);n=r,i=n;do t=e.prev[--i],e.prev[i]=t>=r?t-r:0;while(--n)},Br=(e,n,t)=>(n<<e.hash_shift^t)&e.hash_mask,ie=Br,F=e=>{let n=e.state,t=n.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+t),e.next_out),e.next_out+=t,n.pending_out+=t,e.total_out+=t,e.avail_out-=t,n.pending-=t,n.pending===0&&(n.pending_out=0))},Z=(e,n)=>{sr(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,n),e.block_start=e.strstart,F(e.strm)},P=(e,n)=>{e.pending_buf[e.pending++]=n},Te=(e,n)=>{e.pending_buf[e.pending++]=n>>>8&255,e.pending_buf[e.pending++]=n&255},Xt=(e,n,t,i)=>{let r=e.avail_in;return r>i&&(r=i),r===0?0:(e.avail_in-=r,n.set(e.input.subarray(e.next_in,e.next_in+r),t),e.state.wrap===1?e.adler=Ie(e.adler,n,r,t):e.state.wrap===2&&(e.adler=I(e.adler,n,r,t)),e.next_in+=r,e.total_in+=r,r)},Ci=(e,n)=>{let t=e.max_chain_length,i=e.strstart,r,a,c=e.prev_length,l=e.nice_match,m=e.strstart>e.w_size-W?e.strstart-(e.w_size-W):0,o=e.window,s=e.w_mask,u=e.prev,d=e.strstart+ee,f=o[i+c-1],p=o[i+c];e.prev_length>=e.good_match&&(t>>=2),l>e.lookahead&&(l=e.lookahead);do if(r=n,!(o[r+c]!==p||o[r+c-1]!==f||o[r]!==o[i]||o[++r]!==o[i+1])){i+=2,r++;do;while(o[++i]===o[++r]&&o[++i]===o[++r]&&o[++i]===o[++r]&&o[++i]===o[++r]&&o[++i]===o[++r]&&o[++i]===o[++r]&&o[++i]===o[++r]&&o[++i]===o[++r]&&i<d);if(a=ee-(d-i),i=d-ee,a>c){if(e.match_start=n,c=a,a>=l)break;f=o[i+c-1],p=o[i+c]}}while((n=u[n&s])>m&&--t!==0);return c<=e.lookahead?c:e.lookahead},be=e=>{let n=e.w_size,t,i,r;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=n+(n-W)&&(e.window.set(e.window.subarray(n,n+n-i),0),e.match_start-=n,e.strstart-=n,e.block_start-=n,e.insert>e.strstart&&(e.insert=e.strstart),Rr(e),i+=n),e.strm.avail_in===0)break;if(t=Xt(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=t,e.lookahead+e.insert>=N)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=ie(e,e.ins_h,e.window[r+1]);e.insert&&(e.ins_h=ie(e,e.ins_h,e.window[r+N-1]),e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<N)););}while(e.lookahead<W&&e.strm.avail_in!==0)},Ii=(e,n)=>{let t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,i,r,a,c=0,l=e.strm.avail_in;do{if(i=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a||(a=e.strm.avail_out-a,r=e.strstart-e.block_start,i>r+e.strm.avail_in&&(i=r+e.strm.avail_in),i>a&&(i=a),i<t&&(i===0&&n!==$||n===ne||i!==r+e.strm.avail_in)))break;c=n===$&&i===r+e.strm.avail_in?1:0,Ht(e,0,0,c),e.pending_buf[e.pending-4]=i,e.pending_buf[e.pending-3]=i>>8,e.pending_buf[e.pending-2]=~i,e.pending_buf[e.pending-1]=~i>>8,F(e.strm),r&&(r>i&&(r=i),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,i-=r),i&&(Xt(e.strm,e.strm.output,e.strm.next_out,i),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i)}while(c===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),c?xe:n!==ne&&n!==$&&e.strm.avail_in===0&&e.strstart===e.block_start?ve:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(Xt(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,t=a>e.w_size?e.w_size:a,r=e.strstart-e.block_start,(r>=t||(r||n===$)&&n!==ne&&e.strm.avail_in===0&&r<=a)&&(i=r>a?a:r,c=n===$&&e.strm.avail_in===0&&i===r?1:0,Ht(e,e.block_start,i,c),e.block_start+=i,F(e.strm)),c?se:O)},Bt=(e,n)=>{let t,i;for(;;){if(e.lookahead<W){if(be(e),e.lookahead<W&&n===ne)return O;if(e.lookahead===0)break}if(t=0,e.lookahead>=N&&(e.ins_h=ie(e,e.ins_h,e.window[e.strstart+N-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-W&&(e.match_length=Ci(e,t)),e.match_length>=N)if(i=te(e,e.strstart-e.match_start,e.match_length-N),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=N){e.match_length--;do e.strstart++,e.ins_h=ie(e,e.ins_h,e.window[e.strstart+N-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ie(e,e.ins_h,e.window[e.strstart+1]);else i=te(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(Z(e,!1),e.strm.avail_out===0))return O}return e.insert=e.strstart<N-1?e.strstart:N-1,n===$?(Z(e,!0),e.strm.avail_out===0?se:xe):e.sym_next&&(Z(e,!1),e.strm.avail_out===0)?O:ve},_e=(e,n)=>{let t,i,r;for(;;){if(e.lookahead<W){if(be(e),e.lookahead<W&&n===ne)return O;if(e.lookahead===0)break}if(t=0,e.lookahead>=N&&(e.ins_h=ie(e,e.ins_h,e.window[e.strstart+N-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=N-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-W&&(e.match_length=Ci(e,t),e.match_length<=5&&(e.strategy===_r||e.match_length===N&&e.strstart-e.match_start>4096)&&(e.match_length=N-1)),e.prev_length>=N&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-N,i=te(e,e.strstart-1-e.prev_match,e.prev_length-N),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=r&&(e.ins_h=ie(e,e.ins_h,e.window[e.strstart+N-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=N-1,e.strstart++,i&&(Z(e,!1),e.strm.avail_out===0))return O}else if(e.match_available){if(i=te(e,0,e.window[e.strstart-1]),i&&Z(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return O}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=te(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<N-1?e.strstart:N-1,n===$?(Z(e,!0),e.strm.avail_out===0?se:xe):e.sym_next&&(Z(e,!1),e.strm.avail_out===0)?O:ve},Mr=(e,n)=>{let t,i,r,a,c=e.window;for(;;){if(e.lookahead<=ee){if(be(e),e.lookahead<=ee&&n===ne)return O;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=N&&e.strstart>0&&(r=e.strstart-1,i=c[r],i===c[++r]&&i===c[++r]&&i===c[++r])){a=e.strstart+ee;do;while(i===c[++r]&&i===c[++r]&&i===c[++r]&&i===c[++r]&&i===c[++r]&&i===c[++r]&&i===c[++r]&&i===c[++r]&&r<a);e.match_length=ee-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=N?(t=te(e,1,e.match_length-N),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=te(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(Z(e,!1),e.strm.avail_out===0))return O}return e.insert=0,n===$?(Z(e,!0),e.strm.avail_out===0?se:xe):e.sym_next&&(Z(e,!1),e.strm.avail_out===0)?O:ve},Cr=(e,n)=>{let t;for(;;){if(e.lookahead===0&&(be(e),e.lookahead===0)){if(n===ne)return O;break}if(e.match_length=0,t=te(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(Z(e,!1),e.strm.avail_out===0))return O}return e.insert=0,n===$?(Z(e,!0),e.strm.avail_out===0?se:xe):e.sym_next&&(Z(e,!1),e.strm.avail_out===0)?O:ve};function j(e,n,t,i,r){this.good_length=e,this.max_lazy=n,this.nice_length=t,this.max_chain=i,this.func=r}var Ne=[new j(0,0,0,0,Ii),new j(4,4,8,4,Bt),new j(4,5,16,8,Bt),new j(4,6,32,32,Bt),new j(4,4,16,16,_e),new j(8,16,32,32,_e),new j(8,16,128,128,_e),new j(8,32,128,256,_e),new j(32,128,258,1024,_e),new j(32,258,258,4096,_e)],Ir=e=>{e.window_size=2*e.w_size,J(e.head),e.max_lazy_match=Ne[e.level].max_lazy,e.good_match=Ne[e.level].good_length,e.nice_match=Ne[e.level].nice_length,e.max_chain_length=Ne[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=N-1,e.match_available=0,e.ins_h=0};function Dr(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=st,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Nr*2),this.dyn_dtree=new Uint16Array((2*Tr+1)*2),this.bl_tree=new Uint16Array((2*Sr+1)*2),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(zr+1),this.heap=new Uint16Array(2*jt+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*jt+1),J(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Fe=e=>{if(!e)return 1;let n=e.state;return!n||n.strm!==e||n.status!==ye&&n.status!==en&&n.status!==qt&&n.status!==Kt&&n.status!==Wt&&n.status!==Gt&&n.status!==oe&&n.status!==Se?1:0},Di=e=>{if(Fe(e))return le(e,K);e.total_in=e.total_out=0,e.data_type=br;let n=e.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap===2?en:n.wrap?ye:oe,e.adler=n.wrap===2?0:1,n.last_flush=-2,cr(n),D},Oi=e=>{let n=Di(e);return n===D&&Ir(e.state),n},Or=(e,n)=>Fe(e)||e.state.wrap!==2?K:(e.state.gzhead=n,D),Ui=(e,n,t,i,r,a)=>{if(!e)return K;let c=1;if(n===pr&&(n=6),i<0?(c=0,i=-i):i>15&&(c=2,i-=16),r<1||r>wr||t!==st||i<8||i>15||n<0||n>9||a<0||a>gr||i===8&&c!==1)return le(e,K);i===8&&(i=9);let l=new Dr;return e.state=l,l.strm=e,l.status=ye,l.wrap=c,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+N-1)/N),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=n,l.strategy=a,l.method=t,Oi(e)},Ur=(e,n)=>Ui(e,n,st,vr,xr,yr),Lr=(e,n)=>{if(Fe(e)||n>Fn||n<0)return e?le(e,K):K;let t=e.state;if(!e.output||e.avail_in!==0&&!e.input||t.status===Se&&n!==$)return le(e,e.avail_out===0?Rt:K);let i=t.last_flush;if(t.last_flush=n,t.pending!==0){if(F(e),e.avail_out===0)return t.last_flush=-1,D}else if(e.avail_in===0&&$n(n)<=$n(i)&&n!==$)return le(e,Rt);if(t.status===Se&&e.avail_in!==0)return le(e,Rt);if(t.status===ye&&t.wrap===0&&(t.status=oe),t.status===ye){let r=st+(t.w_bits-8<<4)<<8,a=-1;if(t.strategy>=et||t.level<2?a=0:t.level<6?a=1:t.level===6?a=2:a=3,r|=a<<6,t.strstart!==0&&(r|=Pr),r+=31-r%31,Te(t,r),t.strstart!==0&&(Te(t,e.adler>>>16),Te(t,e.adler&65535)),e.adler=1,t.status=oe,F(e),t.pending!==0)return t.last_flush=-1,D}if(t.status===en){if(e.adler=0,P(t,31),P(t,139),P(t,8),t.gzhead)P(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),P(t,t.gzhead.time&255),P(t,t.gzhead.time>>8&255),P(t,t.gzhead.time>>16&255),P(t,t.gzhead.time>>24&255),P(t,t.level===9?2:t.strategy>=et||t.level<2?4:0),P(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(P(t,t.gzhead.extra.length&255),P(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=I(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=qt;else if(P(t,0),P(t,0),P(t,0),P(t,0),P(t,0),P(t,t.level===9?2:t.strategy>=et||t.level<2?4:0),P(t,Ar),t.status=oe,F(e),t.pending!==0)return t.last_flush=-1,D}if(t.status===qt){if(t.gzhead.extra){let r=t.pending,a=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+a>t.pending_buf_size;){let l=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+l),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>r&&(e.adler=I(e.adler,t.pending_buf,t.pending-r,r)),t.gzindex+=l,F(e),t.pending!==0)return t.last_flush=-1,D;r=0,a-=l}let c=new Uint8Array(t.gzhead.extra);t.pending_buf.set(c.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending+=a,t.gzhead.hcrc&&t.pending>r&&(e.adler=I(e.adler,t.pending_buf,t.pending-r,r)),t.gzindex=0}t.status=Kt}if(t.status===Kt){if(t.gzhead.name){let r=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>r&&(e.adler=I(e.adler,t.pending_buf,t.pending-r,r)),F(e),t.pending!==0)return t.last_flush=-1,D;r=0}t.gzindex<t.gzhead.name.length?a=t.gzhead.name.charCodeAt(t.gzindex++)&255:a=0,P(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>r&&(e.adler=I(e.adler,t.pending_buf,t.pending-r,r)),t.gzindex=0}t.status=Wt}if(t.status===Wt){if(t.gzhead.comment){let r=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>r&&(e.adler=I(e.adler,t.pending_buf,t.pending-r,r)),F(e),t.pending!==0)return t.last_flush=-1,D;r=0}t.gzindex<t.gzhead.comment.length?a=t.gzhead.comment.charCodeAt(t.gzindex++)&255:a=0,P(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>r&&(e.adler=I(e.adler,t.pending_buf,t.pending-r,r))}t.status=Gt}if(t.status===Gt){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(F(e),t.pending!==0))return t.last_flush=-1,D;P(t,e.adler&255),P(t,e.adler>>8&255),e.adler=0}if(t.status=oe,F(e),t.pending!==0)return t.last_flush=-1,D}if(e.avail_in!==0||t.lookahead!==0||n!==ne&&t.status!==Se){let r=t.level===0?Ii(t,n):t.strategy===et?Cr(t,n):t.strategy===hr?Mr(t,n):Ne[t.level].func(t,n);if((r===se||r===xe)&&(t.status=Se),r===O||r===se)return e.avail_out===0&&(t.last_flush=-1),D;if(r===ve&&(n===mr?ur(t):n!==Fn&&(Ht(t,0,0,!1),n===fr&&(J(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),F(e),e.avail_out===0))return t.last_flush=-1,D}return n!==$?D:t.wrap<=0?Zn:(t.wrap===2?(P(t,e.adler&255),P(t,e.adler>>8&255),P(t,e.adler>>16&255),P(t,e.adler>>24&255),P(t,e.total_in&255),P(t,e.total_in>>8&255),P(t,e.total_in>>16&255),P(t,e.total_in>>24&255)):(Te(t,e.adler>>>16),Te(t,e.adler&65535)),F(e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?D:Zn)},Fr=e=>{if(Fe(e))return K;let n=e.state.status;return e.state=null,n===oe?le(e,dr):D},Zr=(e,n)=>{let t=n.length;if(Fe(e))return K;let i=e.state,r=i.wrap;if(r===2||r===1&&i.status!==ye||i.lookahead)return K;if(r===1&&(e.adler=Ie(e.adler,n,t,0)),i.wrap=0,t>=i.w_size){r===0&&(J(i.head),i.strstart=0,i.block_start=0,i.insert=0);let m=new Uint8Array(i.w_size);m.set(n.subarray(t-i.w_size,t),0),n=m,t=i.w_size}let a=e.avail_in,c=e.next_in,l=e.input;for(e.avail_in=t,e.next_in=0,e.input=n,be(i);i.lookahead>=N;){let m=i.strstart,o=i.lookahead-(N-1);do i.ins_h=ie(i,i.ins_h,i.window[m+N-1]),i.prev[m&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=m,m++;while(--o);i.strstart=m,i.lookahead=N-1,be(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=N-1,i.match_available=0,e.next_in=c,e.input=l,e.avail_in=a,i.wrap=r,D},$r=Ur,Hr=Ui,jr=Oi,qr=Di,Kr=Or,Wr=Lr,Gr=Fr,Xr=Zr,Yr="pako deflate (from Nodeca project)",Pe={deflateInit:$r,deflateInit2:Hr,deflateReset:jr,deflateResetKeep:qr,deflateSetHeader:Kr,deflate:Wr,deflateEnd:Gr,deflateSetDictionary:Xr,deflateInfo:Yr},Vr=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),Qr=function(e){let n=Array.prototype.slice.call(arguments,1);for(;n.length;){let t=n.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(let i in t)Vr(t,i)&&(e[i]=t[i])}}return e},Jr=e=>{let n=0;for(let i=0,r=e.length;i<r;i++)n+=e[i].length;let t=new Uint8Array(n);for(let i=0,r=0,a=e.length;i<a;i++){let c=e[i];t.set(c,r),r+=c.length}return t},ut={assign:Qr,flattenChunks:Jr},Li=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Li=!1}var De=new Uint8Array(256);for(let e=0;e<256;e++)De[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;De[254]=De[254]=1;var eo=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let n,t,i,r,a,c=e.length,l=0;for(r=0;r<c;r++)t=e.charCodeAt(r),(t&64512)===55296&&r+1<c&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(n=new Uint8Array(l),a=0,r=0;a<l;r++)t=e.charCodeAt(r),(t&64512)===55296&&r+1<c&&(i=e.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),t<128?n[a++]=t:t<2048?(n[a++]=192|t>>>6,n[a++]=128|t&63):t<65536?(n[a++]=224|t>>>12,n[a++]=128|t>>>6&63,n[a++]=128|t&63):(n[a++]=240|t>>>18,n[a++]=128|t>>>12&63,n[a++]=128|t>>>6&63,n[a++]=128|t&63);return n},to=(e,n)=>{if(n<65534&&e.subarray&&Li)return String.fromCharCode.apply(null,e.length===n?e:e.subarray(0,n));let t="";for(let i=0;i<n;i++)t+=String.fromCharCode(e[i]);return t},no=(e,n)=>{let t=n||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,n));let i,r,a=new Array(t*2);for(r=0,i=0;i<t;){let c=e[i++];if(c<128){a[r++]=c;continue}let l=De[c];if(l>4){a[r++]=65533,i+=l-1;continue}for(c&=l===2?31:l===3?15:7;l>1&&i<t;)c=c<<6|e[i++]&63,l--;if(l>1){a[r++]=65533;continue}c<65536?a[r++]=c:(c-=65536,a[r++]=55296|c>>10&1023,a[r++]=56320|c&1023)}return to(a,r)},io=(e,n)=>{n=n||e.length,n>e.length&&(n=e.length);let t=n-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?n:t+De[e[t]]>n?t:n},Oe={string2buf:eo,buf2string:no,utf8border:io};function ao(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Fi=ao,Zi=Object.prototype.toString,{Z_NO_FLUSH:ro,Z_SYNC_FLUSH:oo,Z_FULL_FLUSH:lo,Z_FINISH:co,Z_OK:lt,Z_STREAM_END:so,Z_DEFAULT_COMPRESSION:uo,Z_DEFAULT_STRATEGY:mo,Z_DEFLATED:fo}=me;function Ze(e){this.options=ut.assign({level:uo,method:fo,chunkSize:16384,windowBits:15,memLevel:8,strategy:mo},e||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Fi,this.strm.avail_out=0;let t=Pe.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(t!==lt)throw new Error(ce[t]);if(n.header&&Pe.deflateSetHeader(this.strm,n.header),n.dictionary){let i;if(typeof n.dictionary=="string"?i=Oe.string2buf(n.dictionary):Zi.call(n.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(n.dictionary):i=n.dictionary,t=Pe.deflateSetDictionary(this.strm,i),t!==lt)throw new Error(ce[t]);this._dict_set=!0}}Ze.prototype.push=function(e,n){let t=this.strm,i=this.options.chunkSize,r,a;if(this.ended)return!1;for(n===~~n?a=n:a=n===!0?co:ro,typeof e=="string"?t.input=Oe.string2buf(e):Zi.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),(a===oo||a===lo)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(r=Pe.deflate(t,a),r===so)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),r=Pe.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===lt;if(t.avail_out===0){this.onData(t.output);continue}if(a>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};Ze.prototype.onData=function(e){this.chunks.push(e)};Ze.prototype.onEnd=function(e){e===lt&&(this.result=ut.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function tn(e,n){let t=new Ze(n);if(t.push(e,!0),t.err)throw t.msg||ce[t.err];return t.result}function po(e,n){return n=n||{},n.raw=!0,tn(e,n)}function _o(e,n){return n=n||{},n.gzip=!0,tn(e,n)}var ho=Ze,go=tn,yo=po,bo=_o,wo=me,vo={Deflate:ho,deflate:go,deflateRaw:yo,gzip:bo,constants:wo},tt=16209,xo=16191,ko=function(n,t){let i,r,a,c,l,m,o,s,u,d,f,p,E,b,h,y,k,_,S,R,w,z,T,v,x=n.state;i=n.next_in,T=n.input,r=i+(n.avail_in-5),a=n.next_out,v=n.output,c=a-(t-n.avail_out),l=a+(n.avail_out-257),m=x.dmax,o=x.wsize,s=x.whave,u=x.wnext,d=x.window,f=x.hold,p=x.bits,E=x.lencode,b=x.distcode,h=(1<<x.lenbits)-1,y=(1<<x.distbits)-1;e:do{p<15&&(f+=T[i++]<<p,p+=8,f+=T[i++]<<p,p+=8),k=E[f&h];t:for(;;){if(_=k>>>24,f>>>=_,p-=_,_=k>>>16&255,_===0)v[a++]=k&65535;else if(_&16){S=k&65535,_&=15,_&&(p<_&&(f+=T[i++]<<p,p+=8),S+=f&(1<<_)-1,f>>>=_,p-=_),p<15&&(f+=T[i++]<<p,p+=8,f+=T[i++]<<p,p+=8),k=b[f&y];n:for(;;){if(_=k>>>24,f>>>=_,p-=_,_=k>>>16&255,_&16){if(R=k&65535,_&=15,p<_&&(f+=T[i++]<<p,p+=8,p<_&&(f+=T[i++]<<p,p+=8)),R+=f&(1<<_)-1,R>m){n.msg="invalid distance too far back",x.mode=tt;break e}if(f>>>=_,p-=_,_=a-c,R>_){if(_=R-_,_>s&&x.sane){n.msg="invalid distance too far back",x.mode=tt;break e}if(w=0,z=d,u===0){if(w+=o-_,_<S){S-=_;do v[a++]=d[w++];while(--_);w=a-R,z=v}}else if(u<_){if(w+=o+u-_,_-=u,_<S){S-=_;do v[a++]=d[w++];while(--_);if(w=0,u<S){_=u,S-=_;do v[a++]=d[w++];while(--_);w=a-R,z=v}}}else if(w+=u-_,_<S){S-=_;do v[a++]=d[w++];while(--_);w=a-R,z=v}for(;S>2;)v[a++]=z[w++],v[a++]=z[w++],v[a++]=z[w++],S-=3;S&&(v[a++]=z[w++],S>1&&(v[a++]=z[w++]))}else{w=a-R;do v[a++]=v[w++],v[a++]=v[w++],v[a++]=v[w++],S-=3;while(S>2);S&&(v[a++]=v[w++],S>1&&(v[a++]=v[w++]))}}else if((_&64)===0){k=b[(k&65535)+(f&(1<<_)-1)];continue n}else{n.msg="invalid distance code",x.mode=tt;break e}break}}else if((_&64)===0){k=E[(k&65535)+(f&(1<<_)-1)];continue t}else if(_&32){x.mode=xo;break e}else{n.msg="invalid literal/length code",x.mode=tt;break e}break}}while(i<r&&a<l);S=p>>3,i-=S,p-=S<<3,f&=(1<<p)-1,n.next_in=i,n.next_out=a,n.avail_in=i<r?5+(r-i):5-(i-r),n.avail_out=a<l?257+(l-a):257-(a-l),x.hold=f,x.bits=p},he=15,Hn=852,jn=592,qn=0,Mt=1,Kn=2,Eo=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),To=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),So=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),No=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),zo=(e,n,t,i,r,a,c,l)=>{let m=l.bits,o=0,s=0,u=0,d=0,f=0,p=0,E=0,b=0,h=0,y=0,k,_,S,R,w,z=null,T,v=new Uint16Array(he+1),x=new Uint16Array(he+1),U=null,on,je,qe;for(o=0;o<=he;o++)v[o]=0;for(s=0;s<i;s++)v[n[t+s]]++;for(f=m,d=he;d>=1&&v[d]===0;d--);if(f>d&&(f=d),d===0)return r[a++]=1<<24|64<<16|0,r[a++]=1<<24|64<<16|0,l.bits=1,0;for(u=1;u<d&&v[u]===0;u++);for(f<u&&(f=u),b=1,o=1;o<=he;o++)if(b<<=1,b-=v[o],b<0)return-1;if(b>0&&(e===qn||d!==1))return-1;for(x[1]=0,o=1;o<he;o++)x[o+1]=x[o]+v[o];for(s=0;s<i;s++)n[t+s]!==0&&(c[x[n[t+s]]++]=s);if(e===qn?(z=U=c,T=20):e===Mt?(z=Eo,U=To,T=257):(z=So,U=No,T=0),y=0,s=0,o=u,w=a,p=f,E=0,S=-1,h=1<<f,R=h-1,e===Mt&&h>Hn||e===Kn&&h>jn)return 1;for(;;){on=o-E,c[s]+1<T?(je=0,qe=c[s]):c[s]>=T?(je=U[c[s]-T],qe=z[c[s]-T]):(je=96,qe=0),k=1<<o-E,_=1<<p,u=_;do _-=k,r[w+(y>>E)+_]=on<<24|je<<16|qe|0;while(_!==0);for(k=1<<o-1;y&k;)k>>=1;if(k!==0?(y&=k-1,y+=k):y=0,s++,--v[o]===0){if(o===d)break;o=n[t+c[s]]}if(o>f&&(y&R)!==S){for(E===0&&(E=f),w+=u,p=o-E,b=1<<p;p+E<d&&(b-=v[p+E],!(b<=0));)p++,b<<=1;if(h+=1<<p,e===Mt&&h>Hn||e===Kn&&h>jn)return 1;S=y&R,r[S]=f<<24|p<<16|w-a|0}}return y!==0&&(r[w+y]=o-E<<24|64<<16|0),l.bits=f,0},Ae=zo,Po=0,$i=1,Hi=2,{Z_FINISH:Wn,Z_BLOCK:Ao,Z_TREES:nt,Z_OK:ue,Z_STREAM_END:Ro,Z_NEED_DICT:Bo,Z_STREAM_ERROR:H,Z_DATA_ERROR:ji,Z_MEM_ERROR:qi,Z_BUF_ERROR:Mo,Z_DEFLATED:Gn}=me,mt=16180,Xn=16181,Yn=16182,Vn=16183,Qn=16184,Jn=16185,ei=16186,ti=16187,ni=16188,ii=16189,ct=16190,X=16191,Ct=16192,ai=16193,It=16194,ri=16195,oi=16196,li=16197,ci=16198,it=16199,at=16200,si=16201,ui=16202,mi=16203,fi=16204,di=16205,Dt=16206,pi=16207,_i=16208,B=16209,Ki=16210,Wi=16211,Co=852,Io=592,Do=15,Oo=Do,hi=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Uo(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var fe=e=>{if(!e)return 1;let n=e.state;return!n||n.strm!==e||n.mode<mt||n.mode>Wi?1:0},Gi=e=>{if(fe(e))return H;let n=e.state;return e.total_in=e.total_out=n.total=0,e.msg="",n.wrap&&(e.adler=n.wrap&1),n.mode=mt,n.last=0,n.havedict=0,n.flags=-1,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(Co),n.distcode=n.distdyn=new Int32Array(Io),n.sane=1,n.back=-1,ue},Xi=e=>{if(fe(e))return H;let n=e.state;return n.wsize=0,n.whave=0,n.wnext=0,Gi(e)},Yi=(e,n)=>{let t;if(fe(e))return H;let i=e.state;return n<0?(t=0,n=-n):(t=(n>>4)+5,n<48&&(n&=15)),n&&(n<8||n>15)?H:(i.window!==null&&i.wbits!==n&&(i.window=null),i.wrap=t,i.wbits=n,Xi(e))},Vi=(e,n)=>{if(!e)return H;let t=new Uo;e.state=t,t.strm=e,t.window=null,t.mode=mt;let i=Yi(e,n);return i!==ue&&(e.state=null),i},Lo=e=>Vi(e,Oo),gi=!0,Ot,Ut,Fo=e=>{if(gi){Ot=new Int32Array(512),Ut=new Int32Array(32);let n=0;for(;n<144;)e.lens[n++]=8;for(;n<256;)e.lens[n++]=9;for(;n<280;)e.lens[n++]=7;for(;n<288;)e.lens[n++]=8;for(Ae($i,e.lens,0,288,Ot,0,e.work,{bits:9}),n=0;n<32;)e.lens[n++]=5;Ae(Hi,e.lens,0,32,Ut,0,e.work,{bits:5}),gi=!1}e.lencode=Ot,e.lenbits=9,e.distcode=Ut,e.distbits=5},Qi=(e,n,t,i)=>{let r,a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(n.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(r=a.wsize-a.wnext,r>i&&(r=i),a.window.set(n.subarray(t-i,t-i+r),a.wnext),i-=r,i?(a.window.set(n.subarray(t-i,t),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0},Zo=(e,n)=>{let t,i,r,a,c,l,m,o,s,u,d,f,p,E,b=0,h,y,k,_,S,R,w,z,T=new Uint8Array(4),v,x,U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(fe(e)||!e.output||!e.input&&e.avail_in!==0)return H;t=e.state,t.mode===X&&(t.mode=Ct),c=e.next_out,r=e.output,m=e.avail_out,a=e.next_in,i=e.input,l=e.avail_in,o=t.hold,s=t.bits,u=l,d=m,z=ue;e:for(;;)switch(t.mode){case mt:if(t.wrap===0){t.mode=Ct;break}for(;s<16;){if(l===0)break e;l--,o+=i[a++]<<s,s+=8}if(t.wrap&2&&o===35615){t.wbits===0&&(t.wbits=15),t.check=0,T[0]=o&255,T[1]=o>>>8&255,t.check=I(t.check,T,2,0),o=0,s=0,t.mode=Xn;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((o&255)<<8)+(o>>8))%31){e.msg="incorrect header check",t.mode=B;break}if((o&15)!==Gn){e.msg="unknown compression method",t.mode=B;break}if(o>>>=4,s-=4,w=(o&15)+8,t.wbits===0&&(t.wbits=w),w>15||w>t.wbits){e.msg="invalid window size",t.mode=B;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=o&512?ii:X,o=0,s=0;break;case Xn:for(;s<16;){if(l===0)break e;l--,o+=i[a++]<<s,s+=8}if(t.flags=o,(t.flags&255)!==Gn){e.msg="unknown compression method",t.mode=B;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=B;break}t.head&&(t.head.text=o>>8&1),t.flags&512&&t.wrap&4&&(T[0]=o&255,T[1]=o>>>8&255,t.check=I(t.check,T,2,0)),o=0,s=0,t.mode=Yn;case Yn:for(;s<32;){if(l===0)break e;l--,o+=i[a++]<<s,s+=8}t.head&&(t.head.time=o),t.flags&512&&t.wrap&4&&(T[0]=o&255,T[1]=o>>>8&255,T[2]=o>>>16&255,T[3]=o>>>24&255,t.check=I(t.check,T,4,0)),o=0,s=0,t.mode=Vn;case Vn:for(;s<16;){if(l===0)break e;l--,o+=i[a++]<<s,s+=8}t.head&&(t.head.xflags=o&255,t.head.os=o>>8),t.flags&512&&t.wrap&4&&(T[0]=o&255,T[1]=o>>>8&255,t.check=I(t.check,T,2,0)),o=0,s=0,t.mode=Qn;case Qn:if(t.flags&1024){for(;s<16;){if(l===0)break e;l--,o+=i[a++]<<s,s+=8}t.length=o,t.head&&(t.head.extra_len=o),t.flags&512&&t.wrap&4&&(T[0]=o&255,T[1]=o>>>8&255,t.check=I(t.check,T,2,0)),o=0,s=0}else t.head&&(t.head.extra=null);t.mode=Jn;case Jn:if(t.flags&1024&&(f=t.length,f>l&&(f=l),f&&(t.head&&(w=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(a,a+f),w)),t.flags&512&&t.wrap&4&&(t.check=I(t.check,i,f,a)),l-=f,a+=f,t.length-=f),t.length))break e;t.length=0,t.mode=ei;case ei:if(t.flags&2048){if(l===0)break e;f=0;do w=i[a+f++],t.head&&w&&t.length<65536&&(t.head.name+=String.fromCharCode(w));while(w&&f<l);if(t.flags&512&&t.wrap&4&&(t.check=I(t.check,i,f,a)),l-=f,a+=f,w)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=ti;case ti:if(t.flags&4096){if(l===0)break e;f=0;do w=i[a+f++],t.head&&w&&t.length<65536&&(t.head.comment+=String.fromCharCode(w));while(w&&f<l);if(t.flags&512&&t.wrap&4&&(t.check=I(t.check,i,f,a)),l-=f,a+=f,w)break e}else t.head&&(t.head.comment=null);t.mode=ni;case ni:if(t.flags&512){for(;s<16;){if(l===0)break e;l--,o+=i[a++]<<s,s+=8}if(t.wrap&4&&o!==(t.check&65535)){e.msg="header crc mismatch",t.mode=B;break}o=0,s=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=X;break;case ii:for(;s<32;){if(l===0)break e;l--,o+=i[a++]<<s,s+=8}e.adler=t.check=hi(o),o=0,s=0,t.mode=ct;case ct:if(t.havedict===0)return e.next_out=c,e.avail_out=m,e.next_in=a,e.avail_in=l,t.hold=o,t.bits=s,Bo;e.adler=t.check=1,t.mode=X;case X:if(n===Ao||n===nt)break e;case Ct:if(t.last){o>>>=s&7,s-=s&7,t.mode=Dt;break}for(;s<3;){if(l===0)break e;l--,o+=i[a++]<<s,s+=8}switch(t.last=o&1,o>>>=1,s-=1,o&3){case 0:t.mode=ai;break;case 1:if(Fo(t),t.mode=it,n===nt){o>>>=2,s-=2;break e}break;case 2:t.mode=oi;break;case 3:e.msg="invalid block type",t.mode=B}o>>>=2,s-=2;break;case ai:for(o>>>=s&7,s-=s&7;s<32;){if(l===0)break e;l--,o+=i[a++]<<s,s+=8}if((o&65535)!==(o>>>16^65535)){e.msg="invalid stored block lengths",t.mode=B;break}if(t.length=o&65535,o=0,s=0,t.mode=It,n===nt)break e;case It:t.mode=ri;case ri:if(f=t.length,f){if(f>l&&(f=l),f>m&&(f=m),f===0)break e;r.set(i.subarray(a,a+f),c),l-=f,a+=f,m-=f,c+=f,t.length-=f;break}t.mode=X;break;case oi:for(;s<14;){if(l===0)break e;l--,o+=i[a++]<<s,s+=8}if(t.nlen=(o&31)+257,o>>>=5,s-=5,t.ndist=(o&31)+1,o>>>=5,s-=5,t.ncode=(o&15)+4,o>>>=4,s-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=B;break}t.have=0,t.mode=li;case li:for(;t.have<t.ncode;){for(;s<3;){if(l===0)break e;l--,o+=i[a++]<<s,s+=8}t.lens[U[t.have++]]=o&7,o>>>=3,s-=3}for(;t.have<19;)t.lens[U[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,v={bits:t.lenbits},z=Ae(Po,t.lens,0,19,t.lencode,0,t.work,v),t.lenbits=v.bits,z){e.msg="invalid code lengths set",t.mode=B;break}t.have=0,t.mode=ci;case ci:for(;t.have<t.nlen+t.ndist;){for(;b=t.lencode[o&(1<<t.lenbits)-1],h=b>>>24,y=b>>>16&255,k=b&65535,!(h<=s);){if(l===0)break e;l--,o+=i[a++]<<s,s+=8}if(k<16)o>>>=h,s-=h,t.lens[t.have++]=k;else{if(k===16){for(x=h+2;s<x;){if(l===0)break e;l--,o+=i[a++]<<s,s+=8}if(o>>>=h,s-=h,t.have===0){e.msg="invalid bit length repeat",t.mode=B;break}w=t.lens[t.have-1],f=3+(o&3),o>>>=2,s-=2}else if(k===17){for(x=h+3;s<x;){if(l===0)break e;l--,o+=i[a++]<<s,s+=8}o>>>=h,s-=h,w=0,f=3+(o&7),o>>>=3,s-=3}else{for(x=h+7;s<x;){if(l===0)break e;l--,o+=i[a++]<<s,s+=8}o>>>=h,s-=h,w=0,f=11+(o&127),o>>>=7,s-=7}if(t.have+f>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=B;break}for(;f--;)t.lens[t.have++]=w}}if(t.mode===B)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=B;break}if(t.lenbits=9,v={bits:t.lenbits},z=Ae($i,t.lens,0,t.nlen,t.lencode,0,t.work,v),t.lenbits=v.bits,z){e.msg="invalid literal/lengths set",t.mode=B;break}if(t.distbits=6,t.distcode=t.distdyn,v={bits:t.distbits},z=Ae(Hi,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,v),t.distbits=v.bits,z){e.msg="invalid distances set",t.mode=B;break}if(t.mode=it,n===nt)break e;case it:t.mode=at;case at:if(l>=6&&m>=258){e.next_out=c,e.avail_out=m,e.next_in=a,e.avail_in=l,t.hold=o,t.bits=s,ko(e,d),c=e.next_out,r=e.output,m=e.avail_out,a=e.next_in,i=e.input,l=e.avail_in,o=t.hold,s=t.bits,t.mode===X&&(t.back=-1);break}for(t.back=0;b=t.lencode[o&(1<<t.lenbits)-1],h=b>>>24,y=b>>>16&255,k=b&65535,!(h<=s);){if(l===0)break e;l--,o+=i[a++]<<s,s+=8}if(y&&(y&240)===0){for(_=h,S=y,R=k;b=t.lencode[R+((o&(1<<_+S)-1)>>_)],h=b>>>24,y=b>>>16&255,k=b&65535,!(_+h<=s);){if(l===0)break e;l--,o+=i[a++]<<s,s+=8}o>>>=_,s-=_,t.back+=_}if(o>>>=h,s-=h,t.back+=h,t.length=k,y===0){t.mode=di;break}if(y&32){t.back=-1,t.mode=X;break}if(y&64){e.msg="invalid literal/length code",t.mode=B;break}t.extra=y&15,t.mode=si;case si:if(t.extra){for(x=t.extra;s<x;){if(l===0)break e;l--,o+=i[a++]<<s,s+=8}t.length+=o&(1<<t.extra)-1,o>>>=t.extra,s-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=ui;case ui:for(;b=t.distcode[o&(1<<t.distbits)-1],h=b>>>24,y=b>>>16&255,k=b&65535,!(h<=s);){if(l===0)break e;l--,o+=i[a++]<<s,s+=8}if((y&240)===0){for(_=h,S=y,R=k;b=t.distcode[R+((o&(1<<_+S)-1)>>_)],h=b>>>24,y=b>>>16&255,k=b&65535,!(_+h<=s);){if(l===0)break e;l--,o+=i[a++]<<s,s+=8}o>>>=_,s-=_,t.back+=_}if(o>>>=h,s-=h,t.back+=h,y&64){e.msg="invalid distance code",t.mode=B;break}t.offset=k,t.extra=y&15,t.mode=mi;case mi:if(t.extra){for(x=t.extra;s<x;){if(l===0)break e;l--,o+=i[a++]<<s,s+=8}t.offset+=o&(1<<t.extra)-1,o>>>=t.extra,s-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=B;break}t.mode=fi;case fi:if(m===0)break e;if(f=d-m,t.offset>f){if(f=t.offset-f,f>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=B;break}f>t.wnext?(f-=t.wnext,p=t.wsize-f):p=t.wnext-f,f>t.length&&(f=t.length),E=t.window}else E=r,p=c-t.offset,f=t.length;f>m&&(f=m),m-=f,t.length-=f;do r[c++]=E[p++];while(--f);t.length===0&&(t.mode=at);break;case di:if(m===0)break e;r[c++]=t.length,m--,t.mode=at;break;case Dt:if(t.wrap){for(;s<32;){if(l===0)break e;l--,o|=i[a++]<<s,s+=8}if(d-=m,e.total_out+=d,t.total+=d,t.wrap&4&&d&&(e.adler=t.check=t.flags?I(t.check,r,d,c-d):Ie(t.check,r,d,c-d)),d=m,t.wrap&4&&(t.flags?o:hi(o))!==t.check){e.msg="incorrect data check",t.mode=B;break}o=0,s=0}t.mode=pi;case pi:if(t.wrap&&t.flags){for(;s<32;){if(l===0)break e;l--,o+=i[a++]<<s,s+=8}if(t.wrap&4&&o!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=B;break}o=0,s=0}t.mode=_i;case _i:z=Ro;break e;case B:z=ji;break e;case Ki:return qi;case Wi:default:return H}return e.next_out=c,e.avail_out=m,e.next_in=a,e.avail_in=l,t.hold=o,t.bits=s,(t.wsize||d!==e.avail_out&&t.mode<B&&(t.mode<Dt||n!==Wn))&&Qi(e,e.output,e.next_out,d-e.avail_out),u-=e.avail_in,d-=e.avail_out,e.total_in+=u,e.total_out+=d,t.total+=d,t.wrap&4&&d&&(e.adler=t.check=t.flags?I(t.check,r,d,e.next_out-d):Ie(t.check,r,d,e.next_out-d)),e.data_type=t.bits+(t.last?64:0)+(t.mode===X?128:0)+(t.mode===it||t.mode===It?256:0),(u===0&&d===0||n===Wn)&&z===ue&&(z=Mo),z},$o=e=>{if(fe(e))return H;let n=e.state;return n.window&&(n.window=null),e.state=null,ue},Ho=(e,n)=>{if(fe(e))return H;let t=e.state;return(t.wrap&2)===0?H:(t.head=n,n.done=!1,ue)},jo=(e,n)=>{let t=n.length,i,r,a;return fe(e)||(i=e.state,i.wrap!==0&&i.mode!==ct)?H:i.mode===ct&&(r=1,r=Ie(r,n,t,0),r!==i.check)?ji:(a=Qi(e,n,t,t),a?(i.mode=Ki,qi):(i.havedict=1,ue))},qo=Xi,Ko=Yi,Wo=Gi,Go=Lo,Xo=Vi,Yo=Zo,Vo=$o,Qo=Ho,Jo=jo,el="pako inflate (from Nodeca project)",V={inflateReset:qo,inflateReset2:Ko,inflateResetKeep:Wo,inflateInit:Go,inflateInit2:Xo,inflate:Yo,inflateEnd:Vo,inflateGetHeader:Qo,inflateSetDictionary:Jo,inflateInfo:el};function tl(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var nl=tl,Ji=Object.prototype.toString,{Z_NO_FLUSH:il,Z_FINISH:al,Z_OK:Ue,Z_STREAM_END:Lt,Z_NEED_DICT:Ft,Z_STREAM_ERROR:rl,Z_DATA_ERROR:yi,Z_MEM_ERROR:ol}=me;function $e(e){this.options=ut.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});let n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(e&&e.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(n.windowBits&15)===0&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Fi,this.strm.avail_out=0;let t=V.inflateInit2(this.strm,n.windowBits);if(t!==Ue)throw new Error(ce[t]);if(this.header=new nl,V.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=Oe.string2buf(n.dictionary):Ji.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(t=V.inflateSetDictionary(this.strm,n.dictionary),t!==Ue)))throw new Error(ce[t])}$e.prototype.push=function(e,n){let t=this.strm,i=this.options.chunkSize,r=this.options.dictionary,a,c,l;if(this.ended)return!1;for(n===~~n?c=n:c=n===!0?al:il,Ji.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),a=V.inflate(t,c),a===Ft&&r&&(a=V.inflateSetDictionary(t,r),a===Ue?a=V.inflate(t,c):a===yi&&(a=Ft));t.avail_in>0&&a===Lt&&t.state.wrap>0&&e[t.next_in]!==0;)V.inflateReset(t),a=V.inflate(t,c);switch(a){case rl:case yi:case Ft:case ol:return this.onEnd(a),this.ended=!0,!1}if(l=t.avail_out,t.next_out&&(t.avail_out===0||a===Lt))if(this.options.to==="string"){let m=Oe.utf8border(t.output,t.next_out),o=t.next_out-m,s=Oe.buf2string(t.output,m);t.next_out=o,t.avail_out=i-o,o&&t.output.set(t.output.subarray(m,m+o),0),this.onData(s)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===Ue&&l===0)){if(a===Lt)return a=V.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};$e.prototype.onData=function(e){this.chunks.push(e)};$e.prototype.onEnd=function(e){e===Ue&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ut.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function nn(e,n){let t=new $e(n);if(t.push(e),t.err)throw t.msg||ce[t.err];return t.result}function ll(e,n){return n=n||{},n.raw=!0,nn(e,n)}var cl=$e,sl=nn,ul=ll,ml=nn,fl=me,dl={Inflate:cl,inflate:sl,inflateRaw:ul,ungzip:ml,constants:fl},{Deflate:pl,deflate:_l,deflateRaw:hl,gzip:gl}=vo,{Inflate:yl,inflate:bl,inflateRaw:wl,ungzip:vl}=dl,xl=pl,kl=_l,El=hl,Tl=gl,Sl=yl,Nl=bl,zl=wl,Pl=vl,Al=me,an={Deflate:xl,deflate:kl,deflateRaw:El,gzip:Tl,Inflate:Sl,inflate:Nl,inflateRaw:zl,ungzip:Pl,constants:Al};function ea(e){let n=e.trim();if(n.length<2)throw new Error("Invalid blueprint string: too short");let t=n[0];if(t!=="0")throw new Error(`Unsupported blueprint version: ${t}`);let i=n.slice(1);try{let r=atob(i),a=new Uint8Array(r.length);for(let s=0;s<r.length;s++)a[s]=r.charCodeAt(s);let c=an.inflate(a,{raw:!1}),l=new TextDecoder().decode(c),m=JSON.parse(l);if(typeof m!="object"||m===null)throw new Error("Invalid blueprint: not an object");let o=m;if("blueprint"in o)return{blueprint:o.blueprint};if("blueprint_book"in o)return{blueprint_book:o.blueprint_book};throw new Error("Invalid blueprint: must contain 'blueprint' or 'blueprint_book'")}catch(r){throw r instanceof SyntaxError?new Error(`Invalid blueprint: malformed JSON - ${r.message}`):r instanceof Error&&r.message.includes("incorrect header")?new Error("Invalid blueprint: not valid zlib data"):r}}function ta(e){let n=JSON.stringify(e),i=new TextEncoder().encode(n),r=an.deflate(i),a="";for(let l=0;l<r.length;l++)a+=String.fromCharCode(r[l]);return"0"+btoa(a)}function na(e){return e.blueprint?[{type:"blueprint",label:e.blueprint.label||"Unnamed Blueprint",blueprint:e.blueprint,index:0}]:e.blueprint_book?ia(e.blueprint_book):[]}function ia(e){let n=[],t=[...e.blueprints].sort((i,r)=>i.index-r.index);for(let i of t)if("blueprint"in i&&i.blueprint)n.push({type:"blueprint",label:i.blueprint.label||"Unnamed Blueprint",blueprint:i.blueprint,index:i.index});else if("blueprint_book"in i){let r=i.blueprint_book;n.push({type:"book",label:r.label||"Unnamed Book",children:ia(r),index:i.index})}return n}var aa=new Map([["assembling-machine-1",{name:"Assembling Machine 1",internalName:"assembling-machine-1",craftingSpeed:.5,moduleSlots:0,allowedCategories:["crafting","advanced-crafting","crafting-with-fluid"],allowedEffects:[],baseProductivity:0,size:{width:3,height:3}}],["assembling-machine-2",{name:"Assembling Machine 2",internalName:"assembling-machine-2",craftingSpeed:.75,moduleSlots:2,allowedCategories:["crafting","advanced-crafting","crafting-with-fluid"],allowedEffects:["speed","productivity","consumption","pollution","quality"],baseProductivity:0,size:{width:3,height:3}}],["assembling-machine-3",{name:"Assembling Machine 3",internalName:"assembling-machine-3",craftingSpeed:1.25,moduleSlots:4,allowedCategories:["crafting","advanced-crafting","crafting-with-fluid"],allowedEffects:["speed","productivity","consumption","pollution","quality"],baseProductivity:0,size:{width:3,height:3}}],["foundry",{name:"Foundry",internalName:"foundry",craftingSpeed:4,moduleSlots:4,allowedCategories:["metallurgy","pressing","crafting-with-fluid","smelting"],allowedEffects:["speed","productivity","consumption","pollution","quality"],baseProductivity:.5,size:{width:4,height:4}}],["electric-furnace",{name:"Electric Furnace",internalName:"electric-furnace",craftingSpeed:2,moduleSlots:2,allowedCategories:["smelting"],allowedEffects:["speed","productivity","consumption","pollution","quality"],baseProductivity:0,size:{width:3,height:3}}],["chemical-plant",{name:"Chemical Plant",internalName:"chemical-plant",craftingSpeed:1,moduleSlots:3,allowedCategories:["chemistry","oil-processing"],allowedEffects:["speed","productivity","consumption","pollution","quality"],baseProductivity:0,size:{width:3,height:3}}],["oil-refinery",{name:"Oil Refinery",internalName:"oil-refinery",craftingSpeed:1,moduleSlots:3,allowedCategories:["oil-processing"],allowedEffects:["speed","productivity","consumption","pollution","quality"],baseProductivity:0,size:{width:5,height:5}}],["centrifuge",{name:"Centrifuge",internalName:"centrifuge",craftingSpeed:1,moduleSlots:2,allowedCategories:["centrifuging"],allowedEffects:["speed","productivity","consumption","pollution","quality"],baseProductivity:0,size:{width:3,height:3}}],["electromagnetic-plant",{name:"Electromagnetic Plant",internalName:"electromagnetic-plant",craftingSpeed:2,moduleSlots:5,allowedCategories:["electromagnetics","crafting","crafting-with-fluid"],allowedEffects:["speed","productivity","consumption","pollution","quality"],baseProductivity:.5,size:{width:4,height:4}}],["cryogenic-plant",{name:"Cryogenic Plant",internalName:"cryogenic-plant",craftingSpeed:2,moduleSlots:8,allowedCategories:["cryogenics","chemistry"],allowedEffects:["speed","productivity","consumption","pollution","quality"],baseProductivity:0,size:{width:5,height:5}}],["biochamber",{name:"Biochamber",internalName:"biochamber",craftingSpeed:2,moduleSlots:4,allowedCategories:["organic","organic-or-assembling"],allowedEffects:["speed","productivity","consumption","pollution","quality"],baseProductivity:.5,size:{width:4,height:4}}],["crusher",{name:"Crusher",internalName:"crusher",craftingSpeed:2,moduleSlots:4,allowedCategories:["crushing"],allowedEffects:["speed","productivity","consumption","pollution","quality"],baseProductivity:.5,size:{width:5,height:5}}]]),Rl=new Map([["speed-module",{name:"Speed Module",internalName:"speed-module",effects:{speed:.2,consumption:.5},tier:1}],["speed-module-2",{name:"Speed Module 2",internalName:"speed-module-2",effects:{speed:.3,consumption:.6},tier:2}],["speed-module-3",{name:"Speed Module 3",internalName:"speed-module-3",effects:{speed:.5,consumption:.7},tier:3}],["productivity-module",{name:"Productivity Module",internalName:"productivity-module",effects:{productivity:.04,speed:-.05,consumption:.4,pollution:.05},tier:1}],["productivity-module-2",{name:"Productivity Module 2",internalName:"productivity-module-2",effects:{productivity:.06,speed:-.1,consumption:.6,pollution:.075},tier:2}],["productivity-module-3",{name:"Productivity Module 3",internalName:"productivity-module-3",effects:{productivity:.1,speed:-.15,consumption:.8,pollution:.1},tier:3}],["efficiency-module",{name:"Efficiency Module",internalName:"efficiency-module",effects:{consumption:-.3},tier:1}],["efficiency-module-2",{name:"Efficiency Module 2",internalName:"efficiency-module-2",effects:{consumption:-.4},tier:2}],["efficiency-module-3",{name:"Efficiency Module 3",internalName:"efficiency-module-3",effects:{consumption:-.5},tier:3}],["quality-module",{name:"Quality Module",internalName:"quality-module",effects:{quality:.01,speed:-.05},tier:1}],["quality-module-2",{name:"Quality Module 2",internalName:"quality-module-2",effects:{quality:.02,speed:-.05},tier:2}],["quality-module-3",{name:"Quality Module 3",internalName:"quality-module-3",effects:{quality:.025,speed:-.05},tier:3}]]),ra=new Map([["beacon",{name:"Beacon",internalName:"beacon",moduleSlots:2,transmissionEfficiency:1.5,range:3,size:{width:3,height:3},profileMultiplier:[1,.7071,.5774,.5,.4472,.4082,.378,.3536,.3333,.3162]}]]),oa=new Map([["iron-plate",{name:"Iron Plate",internalName:"iron-plate",craftingTime:3.2,ingredients:[{name:"iron-ore",amount:1,type:"item"}],products:[{name:"iron-plate",amount:1,type:"item"}],category:"smelting",allowProductivity:!0}],["copper-plate",{name:"Copper Plate",internalName:"copper-plate",craftingTime:3.2,ingredients:[{name:"copper-ore",amount:1,type:"item"}],products:[{name:"copper-plate",amount:1,type:"item"}],category:"smelting",allowProductivity:!0}],["iron-gear-wheel",{name:"Iron Gear Wheel",internalName:"iron-gear-wheel",craftingTime:.5,ingredients:[{name:"iron-plate",amount:2,type:"item"}],products:[{name:"iron-gear-wheel",amount:1,type:"item"}],category:"crafting",allowProductivity:!0}],["automation-science-pack",{name:"Automation Science Pack",internalName:"automation-science-pack",craftingTime:5,ingredients:[{name:"copper-plate",amount:1,type:"item"},{name:"iron-gear-wheel",amount:1,type:"item"}],products:[{name:"automation-science-pack",amount:1,type:"item"}],category:"crafting",allowProductivity:!0}],["molten-iron",{name:"Molten Iron",internalName:"molten-iron",craftingTime:32,ingredients:[{name:"iron-ore",amount:50,type:"item"},{name:"calcite",amount:1,type:"item"}],products:[{name:"molten-iron",amount:500,type:"fluid"}],category:"metallurgy",allowProductivity:!0}],["molten-copper",{name:"Molten Copper",internalName:"molten-copper",craftingTime:32,ingredients:[{name:"copper-ore",amount:50,type:"item"},{name:"calcite",amount:1,type:"item"}],products:[{name:"molten-copper",amount:500,type:"fluid"}],category:"metallurgy",allowProductivity:!0}],["casting-iron",{name:"Casting Iron",internalName:"casting-iron",craftingTime:3.2,ingredients:[{name:"molten-iron",amount:20,type:"fluid"}],products:[{name:"iron-plate",amount:2,type:"item"}],category:"metallurgy",allowProductivity:!0}],["casting-copper",{name:"Casting Copper",internalName:"casting-copper",craftingTime:3.2,ingredients:[{name:"molten-copper",amount:20,type:"fluid"}],products:[{name:"copper-plate",amount:2,type:"item"}],category:"metallurgy",allowProductivity:!0}],["casting-iron-gear-wheel",{name:"Casting Iron Gear Wheel",internalName:"casting-iron-gear-wheel",craftingTime:1,ingredients:[{name:"molten-iron",amount:10,type:"fluid"}],products:[{name:"iron-gear-wheel",amount:1,type:"item"}],category:"metallurgy",allowProductivity:!0}],["casting-steel",{name:"Casting Steel",internalName:"casting-steel",craftingTime:3.2,ingredients:[{name:"molten-iron",amount:30,type:"fluid"}],products:[{name:"steel-plate",amount:1,type:"item"}],category:"metallurgy",allowProductivity:!0}],["casting-iron-stick",{name:"Casting Iron Stick",internalName:"casting-iron-stick",craftingTime:1,ingredients:[{name:"molten-iron",amount:20,type:"fluid"}],products:[{name:"iron-stick",amount:4,type:"item"}],category:"metallurgy",allowProductivity:!0}],["casting-pipe",{name:"Casting Pipe",internalName:"casting-pipe",craftingTime:1,ingredients:[{name:"molten-iron",amount:10,type:"fluid"}],products:[{name:"pipe",amount:1,type:"item"}],category:"metallurgy",allowProductivity:!0}],["casting-copper-cable",{name:"Casting Copper Cable",internalName:"casting-copper-cable",craftingTime:1,ingredients:[{name:"molten-copper",amount:5,type:"fluid"}],products:[{name:"copper-cable",amount:2,type:"item"}],category:"metallurgy",allowProductivity:!0}],["copper-cable",{name:"Copper Cable",internalName:"copper-cable",craftingTime:.5,ingredients:[{name:"copper-plate",amount:1,type:"item"}],products:[{name:"copper-cable",amount:2,type:"item"}],category:"crafting",allowProductivity:!0}],["electronic-circuit",{name:"Electronic Circuit",internalName:"electronic-circuit",craftingTime:.5,ingredients:[{name:"copper-cable",amount:3,type:"item"},{name:"iron-plate",amount:1,type:"item"}],products:[{name:"electronic-circuit",amount:1,type:"item"}],category:"crafting",allowProductivity:!0}],["logistic-science-pack",{name:"Logistic Science Pack",internalName:"logistic-science-pack",craftingTime:6,ingredients:[{name:"inserter",amount:1,type:"item"},{name:"transport-belt",amount:1,type:"item"}],products:[{name:"logistic-science-pack",amount:1,type:"item"}],category:"crafting",allowProductivity:!0}],["transport-belt",{name:"Transport Belt",internalName:"transport-belt",craftingTime:.5,ingredients:[{name:"iron-gear-wheel",amount:1,type:"item"},{name:"iron-plate",amount:1,type:"item"}],products:[{name:"transport-belt",amount:2,type:"item"}],category:"crafting",allowProductivity:!0}],["inserter",{name:"Inserter",internalName:"inserter",craftingTime:.5,ingredients:[{name:"electronic-circuit",amount:1,type:"item"},{name:"iron-gear-wheel",amount:1,type:"item"},{name:"iron-plate",amount:1,type:"item"}],products:[{name:"inserter",amount:1,type:"item"}],category:"crafting",allowProductivity:!0}],["steel-plate",{name:"Steel Plate",internalName:"steel-plate",craftingTime:16,ingredients:[{name:"iron-plate",amount:5,type:"item"}],products:[{name:"steel-plate",amount:1,type:"item"}],category:"smelting",allowProductivity:!0}],["iron-stick",{name:"Iron Stick",internalName:"iron-stick",craftingTime:.5,ingredients:[{name:"iron-plate",amount:1,type:"item"}],products:[{name:"iron-stick",amount:2,type:"item"}],category:"crafting",allowProductivity:!0}],["pipe",{name:"Pipe",internalName:"pipe",craftingTime:.5,ingredients:[{name:"iron-plate",amount:1,type:"item"}],products:[{name:"pipe",amount:1,type:"item"}],category:"crafting",allowProductivity:!0}],["engine-unit",{name:"Engine Unit",internalName:"engine-unit",craftingTime:10,ingredients:[{name:"steel-plate",amount:1,type:"item"},{name:"iron-gear-wheel",amount:1,type:"item"},{name:"pipe",amount:2,type:"item"}],products:[{name:"engine-unit",amount:1,type:"item"}],category:"advanced-crafting",allowProductivity:!0}],["electric-engine-unit",{name:"Electric Engine Unit",internalName:"electric-engine-unit",craftingTime:10,ingredients:[{name:"electronic-circuit",amount:2,type:"item"},{name:"engine-unit",amount:1,type:"item"},{name:"lubricant",amount:15,type:"fluid"}],products:[{name:"electric-engine-unit",amount:1,type:"item"}],category:"crafting-with-fluid",allowProductivity:!0}],["battery",{name:"Battery",internalName:"battery",craftingTime:4,ingredients:[{name:"sulfuric-acid",amount:20,type:"fluid"},{name:"iron-plate",amount:1,type:"item"},{name:"copper-plate",amount:1,type:"item"}],products:[{name:"battery",amount:1,type:"item"}],category:"chemistry",allowProductivity:!0}],["flying-robot-frame",{name:"Flying Robot Frame",internalName:"flying-robot-frame",craftingTime:20,ingredients:[{name:"electric-engine-unit",amount:1,type:"item"},{name:"battery",amount:2,type:"item"},{name:"electronic-circuit",amount:3,type:"item"},{name:"steel-plate",amount:1,type:"item"}],products:[{name:"flying-robot-frame",amount:1,type:"item"}],category:"crafting",allowProductivity:!0}],["advanced-circuit",{name:"Advanced Circuit",internalName:"advanced-circuit",craftingTime:6,ingredients:[{name:"electronic-circuit",amount:2,type:"item"},{name:"plastic-bar",amount:2,type:"item"},{name:"copper-cable",amount:4,type:"item"}],products:[{name:"advanced-circuit",amount:1,type:"item"}],category:"crafting",allowProductivity:!0}],["processing-unit",{name:"Processing Unit",internalName:"processing-unit",craftingTime:10,ingredients:[{name:"electronic-circuit",amount:20,type:"item"},{name:"advanced-circuit",amount:2,type:"item"},{name:"sulfuric-acid",amount:5,type:"fluid"}],products:[{name:"processing-unit",amount:1,type:"item"}],category:"crafting-with-fluid",allowProductivity:!0}],["plastic-bar",{name:"Plastic Bar",internalName:"plastic-bar",craftingTime:1,ingredients:[{name:"petroleum-gas",amount:20,type:"fluid"},{name:"coal",amount:1,type:"item"}],products:[{name:"plastic-bar",amount:2,type:"item"}],category:"chemistry",allowProductivity:!0}],["sulfur",{name:"Sulfur",internalName:"sulfur",craftingTime:1,ingredients:[{name:"water",amount:30,type:"fluid"},{name:"petroleum-gas",amount:30,type:"fluid"}],products:[{name:"sulfur",amount:2,type:"item"}],category:"chemistry",allowProductivity:!0}],["sulfuric-acid",{name:"Sulfuric Acid",internalName:"sulfuric-acid",craftingTime:1,ingredients:[{name:"sulfur",amount:5,type:"item"},{name:"iron-plate",amount:1,type:"item"},{name:"water",amount:100,type:"fluid"}],products:[{name:"sulfuric-acid",amount:50,type:"fluid"}],category:"chemistry",allowProductivity:!0}],["lubricant",{name:"Lubricant",internalName:"lubricant",craftingTime:1,ingredients:[{name:"heavy-oil",amount:10,type:"fluid"}],products:[{name:"lubricant",amount:10,type:"fluid"}],category:"chemistry",allowProductivity:!0}],["basic-oil-processing",{name:"Basic Oil Processing",internalName:"basic-oil-processing",craftingTime:5,ingredients:[{name:"crude-oil",amount:100,type:"fluid"}],products:[{name:"petroleum-gas",amount:45,type:"fluid"}],category:"oil-processing",allowProductivity:!0}],["advanced-oil-processing",{name:"Advanced Oil Processing",internalName:"advanced-oil-processing",craftingTime:5,ingredients:[{name:"crude-oil",amount:100,type:"fluid"},{name:"water",amount:50,type:"fluid"}],products:[{name:"heavy-oil",amount:25,type:"fluid"},{name:"light-oil",amount:45,type:"fluid"},{name:"petroleum-gas",amount:55,type:"fluid"}],category:"oil-processing",allowProductivity:!0}],["heavy-oil-cracking",{name:"Heavy Oil Cracking",internalName:"heavy-oil-cracking",craftingTime:2,ingredients:[{name:"heavy-oil",amount:40,type:"fluid"},{name:"water",amount:30,type:"fluid"}],products:[{name:"light-oil",amount:30,type:"fluid"}],category:"chemistry",allowProductivity:!0}],["light-oil-cracking",{name:"Light Oil Cracking",internalName:"light-oil-cracking",craftingTime:2,ingredients:[{name:"light-oil",amount:30,type:"fluid"},{name:"water",amount:30,type:"fluid"}],products:[{name:"petroleum-gas",amount:20,type:"fluid"}],category:"chemistry",allowProductivity:!0}],["solid-fuel-from-light-oil",{name:"Solid Fuel from Light Oil",internalName:"solid-fuel-from-light-oil",craftingTime:2,ingredients:[{name:"light-oil",amount:10,type:"fluid"}],products:[{name:"solid-fuel",amount:1,type:"item"}],category:"chemistry",allowProductivity:!0}],["solid-fuel-from-petroleum-gas",{name:"Solid Fuel from Petroleum Gas",internalName:"solid-fuel-from-petroleum-gas",craftingTime:2,ingredients:[{name:"petroleum-gas",amount:20,type:"fluid"}],products:[{name:"solid-fuel",amount:1,type:"item"}],category:"chemistry",allowProductivity:!0}],["solid-fuel-from-heavy-oil",{name:"Solid Fuel from Heavy Oil",internalName:"solid-fuel-from-heavy-oil",craftingTime:2,ingredients:[{name:"heavy-oil",amount:20,type:"fluid"}],products:[{name:"solid-fuel",amount:1,type:"item"}],category:"chemistry",allowProductivity:!0}],["rocket-fuel",{name:"Rocket Fuel",internalName:"rocket-fuel",craftingTime:30,ingredients:[{name:"solid-fuel",amount:10,type:"item"},{name:"light-oil",amount:10,type:"fluid"}],products:[{name:"rocket-fuel",amount:1,type:"item"}],category:"crafting-with-fluid",allowProductivity:!0}],["military-science-pack",{name:"Military Science Pack",internalName:"military-science-pack",craftingTime:10,ingredients:[{name:"piercing-rounds-magazine",amount:1,type:"item"},{name:"grenade",amount:1,type:"item"},{name:"stone-wall",amount:2,type:"item"}],products:[{name:"military-science-pack",amount:2,type:"item"}],category:"crafting",allowProductivity:!0}],["chemical-science-pack",{name:"Chemical Science Pack",internalName:"chemical-science-pack",craftingTime:24,ingredients:[{name:"engine-unit",amount:2,type:"item"},{name:"advanced-circuit",amount:3,type:"item"},{name:"sulfur",amount:1,type:"item"}],products:[{name:"chemical-science-pack",amount:2,type:"item"}],category:"crafting",allowProductivity:!0}],["production-science-pack",{name:"Production Science Pack",internalName:"production-science-pack",craftingTime:21,ingredients:[{name:"electric-furnace",amount:1,type:"item"},{name:"productivity-module",amount:1,type:"item"},{name:"rail",amount:30,type:"item"}],products:[{name:"production-science-pack",amount:3,type:"item"}],category:"crafting",allowProductivity:!0}],["utility-science-pack",{name:"Utility Science Pack",internalName:"utility-science-pack",craftingTime:21,ingredients:[{name:"low-density-structure",amount:3,type:"item"},{name:"processing-unit",amount:2,type:"item"},{name:"flying-robot-frame",amount:1,type:"item"}],products:[{name:"utility-science-pack",amount:3,type:"item"}],category:"crafting",allowProductivity:!0}],["logistic-robot",{name:"Logistic Robot",internalName:"logistic-robot",craftingTime:.5,ingredients:[{name:"flying-robot-frame",amount:1,type:"item"},{name:"advanced-circuit",amount:2,type:"item"}],products:[{name:"logistic-robot",amount:1,type:"item"}],category:"crafting",allowProductivity:!0}],["construction-robot",{name:"Construction Robot",internalName:"construction-robot",craftingTime:.5,ingredients:[{name:"flying-robot-frame",amount:1,type:"item"},{name:"electronic-circuit",amount:2,type:"item"}],products:[{name:"construction-robot",amount:1,type:"item"}],category:"crafting",allowProductivity:!0}],["low-density-structure",{name:"Low Density Structure",internalName:"low-density-structure",craftingTime:20,ingredients:[{name:"steel-plate",amount:2,type:"item"},{name:"copper-plate",amount:20,type:"item"},{name:"plastic-bar",amount:5,type:"item"}],products:[{name:"low-density-structure",amount:1,type:"item"}],category:"crafting",allowProductivity:!0}],["rocket-control-unit",{name:"Rocket Control Unit",internalName:"rocket-control-unit",craftingTime:30,ingredients:[{name:"processing-unit",amount:1,type:"item"},{name:"speed-module",amount:1,type:"item"}],products:[{name:"rocket-control-unit",amount:1,type:"item"}],category:"crafting",allowProductivity:!0}],["rocket-part",{name:"Rocket Part",internalName:"rocket-part",craftingTime:3,ingredients:[{name:"rocket-control-unit",amount:10,type:"item"},{name:"low-density-structure",amount:10,type:"item"},{name:"rocket-fuel",amount:10,type:"item"}],products:[{name:"rocket-part",amount:1,type:"item"}],category:"crafting",allowProductivity:!0}],["firearm-magazine",{name:"Firearm Magazine",internalName:"firearm-magazine",craftingTime:1,ingredients:[{name:"iron-plate",amount:4,type:"item"}],products:[{name:"firearm-magazine",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["piercing-rounds-magazine",{name:"Piercing Rounds Magazine",internalName:"piercing-rounds-magazine",craftingTime:3,ingredients:[{name:"firearm-magazine",amount:1,type:"item"},{name:"steel-plate",amount:1,type:"item"},{name:"copper-plate",amount:5,type:"item"}],products:[{name:"piercing-rounds-magazine",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["grenade",{name:"Grenade",internalName:"grenade",craftingTime:8,ingredients:[{name:"iron-plate",amount:5,type:"item"},{name:"coal",amount:10,type:"item"}],products:[{name:"grenade",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["stone-wall",{name:"Stone Wall",internalName:"stone-wall",craftingTime:.5,ingredients:[{name:"stone-brick",amount:5,type:"item"}],products:[{name:"stone-wall",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["stone-brick",{name:"Stone Brick",internalName:"stone-brick",craftingTime:3.2,ingredients:[{name:"stone",amount:2,type:"item"}],products:[{name:"stone-brick",amount:1,type:"item"}],category:"smelting",allowProductivity:!0}],["rail",{name:"Rail",internalName:"rail",craftingTime:.5,ingredients:[{name:"stone",amount:1,type:"item"},{name:"iron-stick",amount:1,type:"item"},{name:"steel-plate",amount:1,type:"item"}],products:[{name:"rail",amount:2,type:"item"}],category:"crafting",allowProductivity:!1}],["speed-module",{name:"Speed Module",internalName:"speed-module",craftingTime:15,ingredients:[{name:"electronic-circuit",amount:5,type:"item"},{name:"advanced-circuit",amount:5,type:"item"}],products:[{name:"speed-module",amount:1,type:"item"}],category:"crafting",allowProductivity:!0}],["speed-module-2",{name:"Speed Module 2",internalName:"speed-module-2",craftingTime:30,ingredients:[{name:"speed-module",amount:4,type:"item"},{name:"advanced-circuit",amount:5,type:"item"},{name:"processing-unit",amount:5,type:"item"}],products:[{name:"speed-module-2",amount:1,type:"item"}],category:"crafting",allowProductivity:!0}],["speed-module-3",{name:"Speed Module 3",internalName:"speed-module-3",craftingTime:60,ingredients:[{name:"speed-module-2",amount:4,type:"item"},{name:"advanced-circuit",amount:5,type:"item"},{name:"processing-unit",amount:5,type:"item"}],products:[{name:"speed-module-3",amount:1,type:"item"}],category:"crafting",allowProductivity:!0}],["productivity-module",{name:"Productivity Module",internalName:"productivity-module",craftingTime:15,ingredients:[{name:"electronic-circuit",amount:5,type:"item"},{name:"advanced-circuit",amount:5,type:"item"}],products:[{name:"productivity-module",amount:1,type:"item"}],category:"crafting",allowProductivity:!0}],["productivity-module-2",{name:"Productivity Module 2",internalName:"productivity-module-2",craftingTime:30,ingredients:[{name:"productivity-module",amount:4,type:"item"},{name:"advanced-circuit",amount:5,type:"item"},{name:"processing-unit",amount:5,type:"item"}],products:[{name:"productivity-module-2",amount:1,type:"item"}],category:"crafting",allowProductivity:!0}],["productivity-module-3",{name:"Productivity Module 3",internalName:"productivity-module-3",craftingTime:60,ingredients:[{name:"productivity-module-2",amount:4,type:"item"},{name:"advanced-circuit",amount:5,type:"item"},{name:"processing-unit",amount:5,type:"item"}],products:[{name:"productivity-module-3",amount:1,type:"item"}],category:"crafting",allowProductivity:!0}],["efficiency-module",{name:"Efficiency Module",internalName:"efficiency-module",craftingTime:15,ingredients:[{name:"electronic-circuit",amount:5,type:"item"},{name:"advanced-circuit",amount:5,type:"item"}],products:[{name:"efficiency-module",amount:1,type:"item"}],category:"crafting",allowProductivity:!0}],["efficiency-module-2",{name:"Efficiency Module 2",internalName:"efficiency-module-2",craftingTime:30,ingredients:[{name:"efficiency-module",amount:4,type:"item"},{name:"advanced-circuit",amount:5,type:"item"},{name:"processing-unit",amount:5,type:"item"}],products:[{name:"efficiency-module-2",amount:1,type:"item"}],category:"crafting",allowProductivity:!0}],["efficiency-module-3",{name:"Efficiency Module 3",internalName:"efficiency-module-3",craftingTime:60,ingredients:[{name:"efficiency-module-2",amount:4,type:"item"},{name:"advanced-circuit",amount:5,type:"item"},{name:"processing-unit",amount:5,type:"item"}],products:[{name:"efficiency-module-3",amount:1,type:"item"}],category:"crafting",allowProductivity:!0}],["quality-module",{name:"Quality Module",internalName:"quality-module",craftingTime:15,ingredients:[{name:"electronic-circuit",amount:5,type:"item"},{name:"advanced-circuit",amount:5,type:"item"}],products:[{name:"quality-module",amount:1,type:"item"}],category:"crafting",allowProductivity:!0}],["quality-module-2",{name:"Quality Module 2",internalName:"quality-module-2",craftingTime:30,ingredients:[{name:"quality-module",amount:4,type:"item"},{name:"advanced-circuit",amount:5,type:"item"},{name:"processing-unit",amount:5,type:"item"}],products:[{name:"quality-module-2",amount:1,type:"item"}],category:"crafting",allowProductivity:!0}],["quality-module-3",{name:"Quality Module 3",internalName:"quality-module-3",craftingTime:60,ingredients:[{name:"quality-module-2",amount:4,type:"item"},{name:"advanced-circuit",amount:5,type:"item"},{name:"processing-unit",amount:5,type:"item"}],products:[{name:"quality-module-3",amount:1,type:"item"}],category:"crafting",allowProductivity:!0}],["electric-furnace",{name:"Electric Furnace",internalName:"electric-furnace",craftingTime:5,ingredients:[{name:"steel-plate",amount:10,type:"item"},{name:"advanced-circuit",amount:5,type:"item"},{name:"stone-brick",amount:10,type:"item"}],products:[{name:"electric-furnace",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["assembling-machine-1",{name:"Assembling Machine 1",internalName:"assembling-machine-1",craftingTime:.5,ingredients:[{name:"electronic-circuit",amount:3,type:"item"},{name:"iron-gear-wheel",amount:5,type:"item"},{name:"iron-plate",amount:9,type:"item"}],products:[{name:"assembling-machine-1",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["assembling-machine-2",{name:"Assembling Machine 2",internalName:"assembling-machine-2",craftingTime:.5,ingredients:[{name:"assembling-machine-1",amount:1,type:"item"},{name:"electronic-circuit",amount:3,type:"item"},{name:"iron-gear-wheel",amount:5,type:"item"},{name:"steel-plate",amount:2,type:"item"}],products:[{name:"assembling-machine-2",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["assembling-machine-3",{name:"Assembling Machine 3",internalName:"assembling-machine-3",craftingTime:.5,ingredients:[{name:"assembling-machine-2",amount:2,type:"item"},{name:"speed-module",amount:4,type:"item"}],products:[{name:"assembling-machine-3",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["chemical-plant",{name:"Chemical Plant",internalName:"chemical-plant",craftingTime:5,ingredients:[{name:"steel-plate",amount:5,type:"item"},{name:"iron-gear-wheel",amount:5,type:"item"},{name:"electronic-circuit",amount:5,type:"item"},{name:"pipe",amount:5,type:"item"}],products:[{name:"chemical-plant",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["oil-refinery",{name:"Oil Refinery",internalName:"oil-refinery",craftingTime:8,ingredients:[{name:"steel-plate",amount:15,type:"item"},{name:"iron-gear-wheel",amount:10,type:"item"},{name:"electronic-circuit",amount:10,type:"item"},{name:"pipe",amount:10,type:"item"},{name:"stone-brick",amount:10,type:"item"}],products:[{name:"oil-refinery",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["fast-inserter",{name:"Fast Inserter",internalName:"fast-inserter",craftingTime:.5,ingredients:[{name:"electronic-circuit",amount:2,type:"item"},{name:"inserter",amount:1,type:"item"},{name:"iron-plate",amount:2,type:"item"}],products:[{name:"fast-inserter",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["bulk-inserter",{name:"Bulk Inserter",internalName:"bulk-inserter",craftingTime:.5,ingredients:[{name:"fast-inserter",amount:1,type:"item"},{name:"iron-gear-wheel",amount:15,type:"item"},{name:"electronic-circuit",amount:15,type:"item"},{name:"advanced-circuit",amount:1,type:"item"}],products:[{name:"bulk-inserter",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["stack-inserter",{name:"Stack Inserter",internalName:"stack-inserter",craftingTime:.5,ingredients:[{name:"bulk-inserter",amount:1,type:"item"},{name:"iron-gear-wheel",amount:15,type:"item"},{name:"processing-unit",amount:1,type:"item"}],products:[{name:"stack-inserter",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["long-handed-inserter",{name:"Long Handed Inserter",internalName:"long-handed-inserter",craftingTime:.5,ingredients:[{name:"iron-gear-wheel",amount:1,type:"item"},{name:"iron-plate",amount:1,type:"item"},{name:"inserter",amount:1,type:"item"}],products:[{name:"long-handed-inserter",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["fast-transport-belt",{name:"Fast Transport Belt",internalName:"fast-transport-belt",craftingTime:.5,ingredients:[{name:"iron-gear-wheel",amount:5,type:"item"},{name:"transport-belt",amount:1,type:"item"}],products:[{name:"fast-transport-belt",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["express-transport-belt",{name:"Express Transport Belt",internalName:"express-transport-belt",craftingTime:.5,ingredients:[{name:"iron-gear-wheel",amount:10,type:"item"},{name:"fast-transport-belt",amount:1,type:"item"},{name:"lubricant",amount:20,type:"fluid"}],products:[{name:"express-transport-belt",amount:1,type:"item"}],category:"crafting-with-fluid",allowProductivity:!1}],["turbo-transport-belt",{name:"Turbo Transport Belt",internalName:"turbo-transport-belt",craftingTime:.5,ingredients:[{name:"iron-gear-wheel",amount:20,type:"item"},{name:"express-transport-belt",amount:1,type:"item"},{name:"lubricant",amount:20,type:"fluid"}],products:[{name:"turbo-transport-belt",amount:1,type:"item"}],category:"crafting-with-fluid",allowProductivity:!1}],["splitter",{name:"Splitter",internalName:"splitter",craftingTime:1,ingredients:[{name:"electronic-circuit",amount:5,type:"item"},{name:"iron-plate",amount:5,type:"item"},{name:"transport-belt",amount:4,type:"item"}],products:[{name:"splitter",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["fast-splitter",{name:"Fast Splitter",internalName:"fast-splitter",craftingTime:2,ingredients:[{name:"splitter",amount:1,type:"item"},{name:"iron-gear-wheel",amount:10,type:"item"},{name:"electronic-circuit",amount:10,type:"item"}],products:[{name:"fast-splitter",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["express-splitter",{name:"Express Splitter",internalName:"express-splitter",craftingTime:2,ingredients:[{name:"fast-splitter",amount:1,type:"item"},{name:"iron-gear-wheel",amount:10,type:"item"},{name:"advanced-circuit",amount:10,type:"item"},{name:"lubricant",amount:80,type:"fluid"}],products:[{name:"express-splitter",amount:1,type:"item"}],category:"crafting-with-fluid",allowProductivity:!1}],["underground-belt",{name:"Underground Belt",internalName:"underground-belt",craftingTime:1,ingredients:[{name:"iron-plate",amount:10,type:"item"},{name:"transport-belt",amount:5,type:"item"}],products:[{name:"underground-belt",amount:2,type:"item"}],category:"crafting",allowProductivity:!1}],["fast-underground-belt",{name:"Fast Underground Belt",internalName:"fast-underground-belt",craftingTime:2,ingredients:[{name:"iron-gear-wheel",amount:40,type:"item"},{name:"underground-belt",amount:2,type:"item"}],products:[{name:"fast-underground-belt",amount:2,type:"item"}],category:"crafting",allowProductivity:!1}],["express-underground-belt",{name:"Express Underground Belt",internalName:"express-underground-belt",craftingTime:2,ingredients:[{name:"iron-gear-wheel",amount:80,type:"item"},{name:"fast-underground-belt",amount:2,type:"item"},{name:"lubricant",amount:40,type:"fluid"}],products:[{name:"express-underground-belt",amount:2,type:"item"}],category:"crafting-with-fluid",allowProductivity:!1}],["solar-panel",{name:"Solar Panel",internalName:"solar-panel",craftingTime:10,ingredients:[{name:"steel-plate",amount:5,type:"item"},{name:"electronic-circuit",amount:15,type:"item"},{name:"copper-plate",amount:5,type:"item"}],products:[{name:"solar-panel",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["accumulator",{name:"Accumulator",internalName:"accumulator",craftingTime:10,ingredients:[{name:"iron-plate",amount:2,type:"item"},{name:"battery",amount:5,type:"item"}],products:[{name:"accumulator",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["small-electric-pole",{name:"Small Electric Pole",internalName:"small-electric-pole",craftingTime:.5,ingredients:[{name:"wood",amount:1,type:"item"},{name:"copper-cable",amount:2,type:"item"}],products:[{name:"small-electric-pole",amount:2,type:"item"}],category:"crafting",allowProductivity:!1}],["medium-electric-pole",{name:"Medium Electric Pole",internalName:"medium-electric-pole",craftingTime:.5,ingredients:[{name:"steel-plate",amount:2,type:"item"},{name:"copper-cable",amount:2,type:"item"}],products:[{name:"medium-electric-pole",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["big-electric-pole",{name:"Big Electric Pole",internalName:"big-electric-pole",craftingTime:.5,ingredients:[{name:"steel-plate",amount:5,type:"item"},{name:"copper-cable",amount:5,type:"item"}],products:[{name:"big-electric-pole",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["substation",{name:"Substation",internalName:"substation",craftingTime:.5,ingredients:[{name:"steel-plate",amount:10,type:"item"},{name:"advanced-circuit",amount:5,type:"item"},{name:"copper-cable",amount:5,type:"item"}],products:[{name:"substation",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["pipe-to-ground",{name:"Pipe to Ground",internalName:"pipe-to-ground",craftingTime:.5,ingredients:[{name:"pipe",amount:10,type:"item"},{name:"iron-plate",amount:5,type:"item"}],products:[{name:"pipe-to-ground",amount:2,type:"item"}],category:"crafting",allowProductivity:!1}],["pump",{name:"Pump",internalName:"pump",craftingTime:2,ingredients:[{name:"engine-unit",amount:1,type:"item"},{name:"steel-plate",amount:1,type:"item"},{name:"pipe",amount:1,type:"item"}],products:[{name:"pump",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["storage-tank",{name:"Storage Tank",internalName:"storage-tank",craftingTime:3,ingredients:[{name:"iron-plate",amount:20,type:"item"},{name:"steel-plate",amount:5,type:"item"}],products:[{name:"storage-tank",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["roboport",{name:"Roboport",internalName:"roboport",craftingTime:5,ingredients:[{name:"steel-plate",amount:45,type:"item"},{name:"iron-gear-wheel",amount:45,type:"item"},{name:"advanced-circuit",amount:45,type:"item"}],products:[{name:"roboport",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["wooden-chest",{name:"Wooden Chest",internalName:"wooden-chest",craftingTime:.5,ingredients:[{name:"wood",amount:2,type:"item"}],products:[{name:"wooden-chest",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["iron-chest",{name:"Iron Chest",internalName:"iron-chest",craftingTime:.5,ingredients:[{name:"iron-plate",amount:8,type:"item"}],products:[{name:"iron-chest",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["steel-chest",{name:"Steel Chest",internalName:"steel-chest",craftingTime:.5,ingredients:[{name:"steel-plate",amount:8,type:"item"}],products:[{name:"steel-chest",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["explosives",{name:"Explosives",internalName:"explosives",craftingTime:4,ingredients:[{name:"sulfur",amount:1,type:"item"},{name:"coal",amount:1,type:"item"},{name:"water",amount:10,type:"fluid"}],products:[{name:"explosives",amount:2,type:"item"}],category:"chemistry",allowProductivity:!0}],["uranium-processing",{name:"Uranium Processing",internalName:"uranium-processing",craftingTime:12,ingredients:[{name:"uranium-ore",amount:10,type:"item"}],products:[{name:"uranium-235",amount:1,type:"item",probability:.007},{name:"uranium-238",amount:1,type:"item",probability:.993}],category:"centrifuging",allowProductivity:!0}],["kovarex-enrichment-process",{name:"Kovarex Enrichment Process",internalName:"kovarex-enrichment-process",craftingTime:60,ingredients:[{name:"uranium-235",amount:40,type:"item"},{name:"uranium-238",amount:5,type:"item"}],products:[{name:"uranium-235",amount:41,type:"item"},{name:"uranium-238",amount:2,type:"item"}],category:"centrifuging",allowProductivity:!0}],["uranium-fuel-cell",{name:"Uranium Fuel Cell",internalName:"uranium-fuel-cell",craftingTime:10,ingredients:[{name:"iron-plate",amount:10,type:"item"},{name:"uranium-235",amount:1,type:"item"},{name:"uranium-238",amount:19,type:"item"}],products:[{name:"uranium-fuel-cell",amount:10,type:"item"}],category:"crafting",allowProductivity:!0}],["superconductor",{name:"Superconductor",internalName:"superconductor",craftingTime:5,ingredients:[{name:"copper-plate",amount:1,type:"item"},{name:"plastic-bar",amount:1,type:"item"},{name:"iron-plate",amount:1,type:"item"},{name:"light-oil",amount:5,type:"fluid"}],products:[{name:"superconductor",amount:2,type:"item"}],category:"electromagnetics",allowProductivity:!0}],["supercapacitor",{name:"Supercapacitor",internalName:"supercapacitor",craftingTime:10,ingredients:[{name:"battery",amount:1,type:"item"},{name:"electronic-circuit",amount:4,type:"item"},{name:"superconductor",amount:2,type:"item"},{name:"holmium-plate",amount:2,type:"item"}],products:[{name:"supercapacitor",amount:1,type:"item"}],category:"electromagnetics",allowProductivity:!0}],["holmium-plate",{name:"Holmium Plate",internalName:"holmium-plate",craftingTime:1,ingredients:[{name:"holmium-ore",amount:2,type:"item"},{name:"stone",amount:1,type:"item"}],products:[{name:"holmium-plate",amount:1,type:"item"}],category:"electromagnetics",allowProductivity:!0}],["electrolyte",{name:"Electrolyte",internalName:"electrolyte",craftingTime:2,ingredients:[{name:"holmium-ore",amount:1,type:"item"},{name:"stone",amount:1,type:"item"},{name:"heavy-oil",amount:10,type:"fluid"}],products:[{name:"electrolyte",amount:10,type:"fluid"}],category:"electromagnetics",allowProductivity:!0}],["space-platform-foundation",{name:"Space Platform Foundation",internalName:"space-platform-foundation",craftingTime:10,ingredients:[{name:"steel-plate",amount:10,type:"item"},{name:"copper-cable",amount:10,type:"item"}],products:[{name:"space-platform-foundation",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["cargo-bay",{name:"Cargo Bay",internalName:"cargo-bay",craftingTime:10,ingredients:[{name:"steel-plate",amount:20,type:"item"},{name:"low-density-structure",amount:1,type:"item"},{name:"advanced-circuit",amount:5,type:"item"}],products:[{name:"cargo-bay",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["asteroid-collector",{name:"Asteroid Collector",internalName:"asteroid-collector",craftingTime:20,ingredients:[{name:"steel-plate",amount:10,type:"item"},{name:"electronic-circuit",amount:10,type:"item"},{name:"engine-unit",amount:5,type:"item"}],products:[{name:"asteroid-collector",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["thruster",{name:"Thruster",internalName:"thruster",craftingTime:30,ingredients:[{name:"steel-plate",amount:10,type:"item"},{name:"engine-unit",amount:10,type:"item"},{name:"pipe",amount:20,type:"item"}],products:[{name:"thruster",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["metallic-asteroid-crushing",{name:"Metallic Asteroid Crushing",internalName:"metallic-asteroid-crushing",craftingTime:2,ingredients:[{name:"metallic-asteroid-chunk",amount:1,type:"item"}],products:[{name:"iron-ore",amount:20,type:"item"},{name:"copper-ore",amount:6,type:"item",probability:.8}],category:"crushing",allowProductivity:!0}],["carbonic-asteroid-crushing",{name:"Carbonic Asteroid Crushing",internalName:"carbonic-asteroid-crushing",craftingTime:2,ingredients:[{name:"carbonic-asteroid-chunk",amount:1,type:"item"}],products:[{name:"carbon",amount:10,type:"item"},{name:"sulfur",amount:2,type:"item",probability:.5}],category:"crushing",allowProductivity:!0}],["oxide-asteroid-crushing",{name:"Oxide Asteroid Crushing",internalName:"oxide-asteroid-crushing",craftingTime:2,ingredients:[{name:"oxide-asteroid-chunk",amount:1,type:"item"}],products:[{name:"ice",amount:5,type:"item"},{name:"calcite",amount:2,type:"item",probability:.4}],category:"crushing",allowProductivity:!0}],["ice-melting",{name:"Ice Melting",internalName:"ice-melting",craftingTime:1,ingredients:[{name:"ice",amount:1,type:"item"}],products:[{name:"water",amount:20,type:"fluid"}],category:"chemistry",allowProductivity:!0}],["carbon",{name:"Carbon",internalName:"carbon",craftingTime:1,ingredients:[{name:"coal",amount:2,type:"item"},{name:"sulfuric-acid",amount:20,type:"fluid"}],products:[{name:"carbon",amount:1,type:"item"}],category:"chemistry",allowProductivity:!0}],["carbon-fiber",{name:"Carbon Fiber",internalName:"carbon-fiber",craftingTime:2,ingredients:[{name:"carbon",amount:4,type:"item"},{name:"heavy-oil",amount:4,type:"fluid"}],products:[{name:"carbon-fiber",amount:1,type:"item"}],category:"crafting-with-fluid",allowProductivity:!0}],["beacon",{name:"Beacon",internalName:"beacon",craftingTime:15,ingredients:[{name:"electronic-circuit",amount:20,type:"item"},{name:"advanced-circuit",amount:20,type:"item"},{name:"steel-plate",amount:10,type:"item"},{name:"copper-cable",amount:10,type:"item"}],products:[{name:"beacon",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["satellite",{name:"Satellite",internalName:"satellite",craftingTime:5,ingredients:[{name:"low-density-structure",amount:100,type:"item"},{name:"solar-panel",amount:100,type:"item"},{name:"accumulator",amount:100,type:"item"},{name:"radar",amount:5,type:"item"},{name:"processing-unit",amount:100,type:"item"},{name:"rocket-fuel",amount:50,type:"item"}],products:[{name:"satellite",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}],["radar",{name:"Radar",internalName:"radar",craftingTime:.5,ingredients:[{name:"electronic-circuit",amount:5,type:"item"},{name:"iron-gear-wheel",amount:5,type:"item"},{name:"iron-plate",amount:10,type:"item"}],products:[{name:"radar",amount:1,type:"item"}],category:"crafting",allowProductivity:!1}]]);function la(e){return aa.get(e)}function ca(e){return Rl.get(e)}function sa(e){return oa.get(e)}function ft(e){return ra.get(e)}function ua(e){return aa.has(e)}function ma(e){return ra.has(e)}function rn(e){return["wooden-chest","iron-chest","steel-chest","logistic-chest-passive-provider","logistic-chest-active-provider","logistic-chest-storage","logistic-chest-buffer","logistic-chest-requester","cargo-wagon","fluid-wagon"].includes(e)}function fa(e){return e.includes("rail")||e==="train-stop"}function Q(e){return e.split("-").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}function da(e,n){for(let[,t]of oa){if(t.category!==n)continue;if(t.ingredients.some(r=>r.name===e))return t}}var pa=1.0001,_a=1e-4,Bl=30,ha=1e-4,dt=.5,ga=10,Ml=["inserter","long-handed-inserter","fast-inserter","bulk-inserter","stack-inserter","burner-inserter"];function Cl(e){return Ml.includes(e)}function Il(e,n,t,i){let a=e.x-1.5,c=e.x+3/2,l=e.y-3/2,m=e.y+3/2,o=t.x-i.width/2,s=t.x+i.width/2,u=t.y-i.height/2,d=t.y+i.height/2,f=a-n,p=c+n,E=l-n,b=m+n;return o<p&&s>f&&u<b&&d>E}function ya(e){let n=[];if(!e.items)return n;for(let t of e.items){let i=ca(t.id.name);if(i){let r=t.items.in_inventory.length;for(let a=0;a<r;a++)n.push(i)}}return n}function Dl(e,n,t){if(!e)return{speed:1,productivity:1};let i=0,r=e.baseProductivity;for(let o of n)i+=o.effects.speed??0,r+=o.effects.productivity??0;let a=ft("beacon");if(a&&t.length>0){let o=a.transmissionEfficiency,s=1/Math.sqrt(t.length),u=0,d=0;for(let f of t)for(let p of f.modules)u+=p.effects.speed??0,d+=p.effects.productivity??0;i+=u*o*s,r+=d*o*s}let c=Math.max(.2,1+i),l=e.craftingSpeed*c,m=1+r;return{speed:l,productivity:m}}function ba(e){let n=e.direction??0,t={...e.position};switch(n){case 0:t.y-=1;break;case 4:t.x+=1;break;case 8:t.y+=1;break;case 12:t.x-=1;break}return t}function Ol(e){let n=e.direction??0,t={...e.position};switch(n){case 0:t.y+=1;break;case 4:t.x-=1;break;case 8:t.y-=1;break;case 12:t.x+=1;break}return t}function Ul(e,n,t){let i=t.width/2,r=t.height/2;return e.x>=n.x-i&&e.x<=n.x+i&&e.y>=n.y-r&&e.y<=n.y+r}function Ll(e,n,t){if(!n)return null;let i=t.filter(c=>Cl(c.name)),r=i.filter(c=>{let l=ba(c);return Ul(l,e.position,n.size)}),a=new Set;for(let c of r)if(c.filters?.length&&c.use_filters!==!1)for(let l of c.filters)a.add(l.name);if(a.size===0){let c=t.filter(l=>rn(l.name));for(let l of r){let m=Ol(l),o=c.find(s=>{let u=Math.abs(s.position.x-m.x),d=Math.abs(s.position.y-m.y);return u<=dt&&d<=dt});if(o){let s=i.filter(u=>{let d=ba(u),f=Math.abs(d.x-o.position.x),p=Math.abs(d.y-o.position.y);return f<=dt&&p<=dt});for(let u of s)if(u.filters?.length&&u.use_filters!==!1)for(let d of u.filters)a.add(d.name)}}}if(a.size===0){let c=i.filter(l=>{if(!l.filters?.length)return!1;let m=Math.abs(l.position.x-e.position.x),o=Math.abs(l.position.y-e.position.y);return m<=ga&&o<=ga});for(let l of c)if(l.filters)for(let m of l.filters)a.add(m.name)}for(let c of a)for(let l of n.allowedCategories){let m=da(c,l);if(m)return m}return null}var pt=class{constructor(n){ke(this,"blueprint");ke(this,"machines",new Map);ke(this,"beacons",new Map);ke(this,"itemFlows",new Map);this.blueprint=n}analyze(n){this.analyzeBeacons(),this.analyzeProductionMachines(),this.calculateProductionRates();let{inputs:t,outputs:i}=this.identifyExternalFlows(),r=this.calculateUtilization();return{filename:n,externalInputs:t,externalOutputs:i,machines:Array.from(this.machines.values()),utilization:r}}analyzeBeacons(){for(let n of this.blueprint.entities)if(ma(n.name)){let t=ft(n.name);if(!t)continue;let i=ya(n);this.beacons.set(n.entity_number,{entityNumber:n.entity_number,position:n.position,modules:i,transmissionFactor:t.transmissionEfficiency})}}analyzeProductionMachines(){for(let n of this.blueprint.entities){if(!ua(n.name))continue;let t=la(n.name);if(!t)continue;let i=n.recipe?sa(n.recipe):null;i||(i=Ll(n,t,this.blueprint.entities));let r=ya(n),a=[];for(let[,m]of this.beacons)Il(m.position,ft("beacon")?.range??3,n.position,t.size)&&a.push(m);let{speed:c,productivity:l}=Dl(t,r,a);this.machines.set(n.entity_number,{entityNumber:n.entity_number,machineName:t.name,machineType:n.name,recipe:i??null,position:n.position,modules:r,affectingBeacons:a,effectiveSpeed:c,effectiveProductivity:l,inputRates:new Map,outputRates:new Map,utilization:1,bottleneckedBy:null})}}calculateProductionRates(){for(let[,n]of this.machines){if(!n.recipe)continue;let t=n.recipe,i=n.effectiveSpeed/t.craftingTime;for(let r of t.ingredients){let a=r.amount*i;n.inputRates.set(r.name,a)}for(let r of t.products){let a=r.amount*i*n.effectiveProductivity*(r.probability??1);n.outputRates.set(r.name,a)}}this.resolveBottlenecks();for(let[,n]of this.machines)if(n.recipe){for(let[t,i]of n.inputRates){let r=i*n.utilization,a=this.itemFlows.get(t)??{produced:0,consumed:0};a.consumed+=r,this.itemFlows.set(t,a)}for(let[t,i]of n.outputRates){let r=i*n.utilization,a=this.itemFlows.get(t)??{produced:0,consumed:0};a.produced+=r,this.itemFlows.set(t,a)}}}resolveBottlenecks(){let n=new Map,t=new Map;for(let[r,a]of this.machines)if(a.recipe){for(let[c]of a.inputRates){let l=n.get(c)??[];l.push(r),n.set(c,l)}for(let[c]of a.outputRates){let l=t.get(c)??[];l.push(r),t.set(c,l)}}let i=new Set;for(let[r]of t)n.has(r)||i.add(r);for(let r=0;r<Bl;r++){let a=!1,c=new Map;for(let[,o]of this.machines)if(o.recipe)for(let[s,u]of o.inputRates)c.set(s,(c.get(s)??0)+u*o.utilization);let l=new Map;for(let[,o]of this.machines)if(o.recipe)for(let[s,u]of o.outputRates)l.set(s,(l.get(s)??0)+u);for(let[o,s]of c){let u=l.get(o)??0;if(u>0&&s>u*pa){let d=u/s;for(let[,f]of this.machines)if(f.inputRates.has(o)){let p=f.utilization*d;p<f.utilization-_a&&(f.utilization=p,f.bottleneckedBy=`${Q(o)} shortage`,a=!0)}}}let m=new Map;for(let[,o]of this.machines)if(o.recipe)for(let[s,u]of o.inputRates)m.set(s,(m.get(s)??0)+u*o.utilization);for(let[o,s]of m){let u=l.get(o)??0;if(u>s*pa){let d=s/u,f=t.get(o)??[];for(let p of f){let E=this.machines.get(p);E&&E.utilization>d+_a&&(E.utilization=d,E.bottleneckedBy=`Demand limited (${Q(o)})`,a=!0)}}}if(!a)break}for(let[,r]of this.machines)r.utilization>.999&&(r.bottleneckedBy=null)}identifyExternalFlows(){let n=new Map,t=new Map,i=this.blueprint.entities.some(a=>fa(a.name)),r=this.blueprint.entities.some(a=>rn(a.name));for(let[a,c]of this.itemFlows){let l=c.consumed,o=c.produced-l;o<-ha?n.set(a,-o):o>ha&&t.set(a,o)}return{inputs:n,outputs:t}}calculateUtilization(){let n=new Map;for(let[,i]of this.machines){if(!i.recipe)continue;let r=`${i.machineName} (${i.recipe.name})`,a=n.get(r)??{count:0,totalUtilization:0};a.count++,a.totalUtilization+=i.utilization,n.set(r,a)}let t=new Map;for(let[i,r]of n)t.set(i,{count:r.count,avgUtilization:r.totalUtilization/r.count});return t}};var Fl=0;function g(e,n,t,i,r,a){n||(n={});var c,l,m=n;if("ref"in m)for(l in m={},n)l=="ref"?c=n[l]:m[l]=n[l];var o={type:e,props:m,key:t,ref:c,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Fl,__i:-1,__u:0,__source:r,__self:a};if(typeof e=="function"&&(c=e.defaultProps))for(l in c)m[l]===void 0&&(m[l]=c[l]);return A.vnode&&A.vnode(o),o}function He(e){return e.toFixed(1)}function Zl(e){if(e.externalOutputs.size===0)return"No outputs";let n=[];for(let[t,i]of e.externalOutputs)n.push(`${He(i)} ${Q(t)}`);return n.join(", ")+" /s"}function $l(e){let n=[];if(e.externalInputs.size>0){n.push("Inputs:");for(let[t,i]of e.externalInputs)n.push(`  ${He(i)}/s ${Q(t)}`)}if(e.externalOutputs.size>0){n.length>0&&n.push(""),n.push("Outputs:");for(let[t,i]of e.externalOutputs)n.push(`  ${He(i)}/s ${Q(t)}`)}return n.join(`
`)}function wa({nodes:e,onSelect:n,selectedBlueprint:t,depth:i=0}){return g("ul",{class:"blueprint-tree",style:{marginLeft:i>0?"16px":"0"},children:e.map((r,a)=>g("li",{class:`tree-node ${r.type}`,children:r.type==="book"?g("div",{children:[g("span",{class:"book-icon",children:"\u{1F4D8}"}),g("span",{class:"book-label",children:r.label}),r.children&&g(wa,{nodes:r.children,onSelect:n,selectedBlueprint:t,depth:i+1})]}):g("button",{class:`blueprint-button ${t===r.blueprint?"selected":""}`,onClick:()=>r.blueprint&&n(r.blueprint),children:[g("span",{class:"blueprint-icon",children:"\u{1F4CB}"}),r.label]})},a))})}function Hl({result:e}){return g("div",{class:"analysis-result",children:[g("h3",{children:["Analysis: ",e.blueprintName||e.filename]}),g("div",{class:"flow-section",children:[g("h4",{children:"Inputs"}),e.externalInputs.size>0?g("ul",{class:"flow-list",children:Array.from(e.externalInputs).map(([n,t])=>g("li",{class:"flow-item input",children:[g("span",{class:"rate",children:[He(t),"/s"]}),g("span",{class:"item-name",children:Q(n)})]},n))}):g("p",{class:"empty-message",children:"None"})]}),g("div",{class:"flow-section",children:[g("h4",{children:"Outputs"}),e.externalOutputs.size>0?g("ul",{class:"flow-list",children:Array.from(e.externalOutputs).map(([n,t])=>g("li",{class:"flow-item output",children:[g("span",{class:"rate",children:[He(t),"/s"]}),g("span",{class:"item-name",children:Q(n)})]},n))}):g("p",{class:"empty-message",children:"None"})]}),g("div",{class:"flow-section",children:[g("h4",{children:"Utilization"}),g("ul",{class:"utilization-list",children:Array.from(e.utilization).sort((n,t)=>t[1].avgUtilization-n[1].avgUtilization).map(([n,t])=>g("li",{class:"utilization-item",children:[g("span",{class:"machine-name",children:[n," x",t.count]}),g("span",{class:"utilization-bar",children:g("span",{class:"utilization-fill",style:{width:`${t.avgUtilization*100}%`}})}),g("span",{class:"utilization-percent",children:[(t.avgUtilization*100).toFixed(0),"%"]})]},n))})]})]})}function va(){let[e,n]=Mn({blueprintInput:"",selectedBlueprint:null,analysisResult:null,error:null,overwriteName:!1,overwriteDescription:!1,appendDescription:!1}),{decoded:t,tree:i,parseError:r}=St(()=>{if(!e.blueprintInput.trim())return{decoded:null,tree:[],parseError:null};try{let m=ea(e.blueprintInput),o=na(m);return{decoded:m,tree:o,parseError:null}}catch(m){return{decoded:null,tree:[],parseError:m instanceof Error?m.message:String(m)}}},[e.blueprintInput]),a=m=>{n(o=>({...o,blueprintInput:m,selectedBlueprint:null,analysisResult:null,error:null}))},c=m=>{try{let s=new pt(m).analyze(m.label||"Selected Blueprint");s.blueprintName=m.label,n(u=>({...u,selectedBlueprint:m,analysisResult:s,error:null}))}catch(o){n(s=>({...s,selectedBlueprint:m,analysisResult:null,error:o instanceof Error?o.message:String(o)}))}},l=St(()=>{if(!t||!e.analysisResult||!e.selectedBlueprint)return"";let m=JSON.parse(JSON.stringify(t)),o=u=>{if(u===e.selectedBlueprint||u.label===e.selectedBlueprint?.label&&u.entities.length===e.selectedBlueprint?.entities.length){e.overwriteName&&(u.label=Zl(e.analysisResult));let d=$l(e.analysisResult);if(e.overwriteDescription)u.description=d;else if(e.appendDescription){let f=u.description||"";u.description=f?f+`

`+d:d}return!0}return!1};m.blueprint&&o(m.blueprint);let s=u=>{for(let d of u.blueprints)if(d.blueprint&&o(d.blueprint)||d.blueprint_book&&s(d.blueprint_book))return!0;return!1};if(m.blueprint_book&&s(m.blueprint_book),!e.overwriteName&&!e.overwriteDescription&&!e.appendDescription)return"";try{return ta(m)}catch(u){return`Error encoding: ${u instanceof Error?u.message:String(u)}`}},[t,e.selectedBlueprint,e.analysisResult,e.overwriteName,e.overwriteDescription,e.appendDescription]);return g("div",{class:"app",children:[g("header",{children:[g("h1",{children:"\u{1F3ED} Factorio Blueprint Analyzer"}),g("p",{children:"Analyze production rates and throughput for your Factorio blueprints"})]}),g("main",{children:[g("section",{class:"input-section",children:[g("h2",{children:"Blueprint Input"}),g("textarea",{placeholder:"Paste your blueprint string here...",value:e.blueprintInput,onInput:m=>a(m.target.value),rows:6}),r&&g("div",{class:"error-message",children:r})]}),i.length>0&&g("section",{class:"blueprints-section",children:[g("h2",{children:"Blueprints"}),g(wa,{nodes:i,onSelect:c,selectedBlueprint:e.selectedBlueprint})]}),e.error&&g("div",{class:"error-message",children:e.error}),e.analysisResult&&g("section",{class:"analysis-section",children:g(Hl,{result:e.analysisResult})}),e.analysisResult&&g("section",{class:"output-section",children:[g("h2",{children:"Output Options"}),g("div",{class:"options",children:[g("label",{children:[g("input",{type:"checkbox",checked:e.overwriteName,onChange:m=>n(o=>({...o,overwriteName:m.target.checked}))}),'Overwrite Name (sets name to throughput rate, e.g. "32.4 Iron Gear Wheel /s")']}),g("label",{children:[g("input",{type:"checkbox",checked:e.overwriteDescription,onChange:m=>n(o=>({...o,overwriteDescription:m.target.checked,appendDescription:!1}))}),"Overwrite Description (replaces description with input/output rates)"]}),g("label",{children:[g("input",{type:"checkbox",checked:e.appendDescription,onChange:m=>n(o=>({...o,appendDescription:m.target.checked,overwriteDescription:!1}))}),"Append Description (adds input/output rates to existing description)"]})]}),l&&g("div",{class:"output-blueprint",children:[g("h3",{children:"Modified Blueprint String"}),g("textarea",{value:l,readOnly:!0,rows:4,onClick:m=>m.target.select()}),g("button",{class:"copy-button",onClick:()=>navigator.clipboard.writeText(l),children:"\u{1F4CB} Copy to Clipboard"})]})]})]}),g("footer",{children:g("p",{children:"Factorio Blueprint Analyzer (FBI) - Analyze production rates for your blueprints"})})]})}xn(wt(va,null),document.getElementById("app"));
/*! Bundled license information:

pako/dist/pako.esm.mjs:
  (*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) *)
*/
//# sourceMappingURL=bundle.js.map
